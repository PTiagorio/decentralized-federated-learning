{"version":3,"sources":["connectors/metaMask.ts","utils/ipfs.ts","components/project/DataProviderRequests.tsx","artifacts/deployments lazy /^/.//.*/.json$/ groupOptions: {} namespace object","artifacts/contracts lazy /^/.//.*/.json$/ groupOptions: {} namespace object","components/CircleIcon.tsx","assets/logo.svg","assets/metamask-fox.svg","utils/chains.ts","components/dapp/web3Connect/MetaMaskConnect.tsx","connectors/network.ts","connectors/priorityConnector.ts","components/Alert.tsx","components/dapp/web3Connect/SelectNetwork.tsx","components/tooltip.tsx","utils/indexGuard.ts","utils/contracts.ts","components/dapp/web3Connect/Balance.tsx","assets/icons/discord.svg","components/dapp/web3Connect/Account.tsx","components/dapp/web3Connect/Web3Connect.tsx","components/navbar/DappNavbar.tsx","components/footer/HomeFooter.tsx","components/dapp/Breadcrumbs.tsx","components/project/ProjectCard.tsx","views/Projects.tsx","views/CreateProject.tsx","components/project/ProjectSummary.tsx","utils/models.ts","components/project/ProjectPlans.tsx","components/project/ProjectRoles.tsx","components/project/BuilderRequests.tsx","components/project/ProjectDashboard.tsx","views/CreatePlan.tsx","views/Project.tsx","views/Dapp.tsx","App.tsx","serviceWorker.js","index.tsx","utils/cryptography.ts"],"names":["initializeConnector","actions","MetaMask","metaMask","hooks","downloadCID","cid","a","fetch","method","file","Buffer","arrayBuffer","from","downloadModel","provider","account","data","decryptData","model","blob","Blob","type","saveAs","DataProviderRequests","contract","useState","requests","setRequests","progress","setProgress","error","setError","showModal","setShowModal","useAccount","fetchRequests","useCallback","getNodeRequestsLength","toNumber","numberOfRequests","Promise","all","Array","fill","map","_","i","nodeRequests","useEffect","decideRequest","publicKey","approve","getNodeCurrentSecret","secret","ciphertext","encryptSecret","arrayify","acceptNode","tx","declineNode","wait","message","className","tag","length","hover","responsive","slice","reverse","request","idx","_address","icon","onClick","color","centered","isOpen","animated","value","max","light","style","position","left","right","margin","disabled","webpackAsyncContext","req","__webpack_require__","o","resolve","then","e","Error","code","ids","id","t","keys","Object","module","exports","CircleIcon","size","classNames","_g","_excluded","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","preserveAspectRatio","ref","transform","stroke","d","_style","_polygon","_g2","_polygon2","_polygon3","_g3","_g4","_polygon4","_polygon5","_polygon6","_polygon7","_g5","_polygon8","_polygon9","_polygon10","ForwardRef","SvgMetamaskFox","xmlnsXlink","x","y","enableBackground","xmlSpace","points","getAddChainParameters","chainId","chainInformation","CHAINS","nativeCurrency","isExtendedChainInformation","chainName","name","rpcUrls","url","blockExplorerUrls","process","REACT_APP_RPC_URL_80001","symbol","decimals","REACT_APP_RPC_URL_1337","MetaMaskConnect","desiredChainId","isActivating","useIsActivating","activate","display","alignItems","gap","connector","Network","Number","network","getPriorityConnector","metaMaskHooks","networkHooks","Alert","children","open","setOpen","setTimeout","top","backgroundColor","padding","zIndex","borderRadius","marginRight","marginLeft","cursor","usePriorityIsActivating","SelectNetwork","setChainId","onChange","event","opacity","border","SimpleTooltip","toggle","isKeyof","possibleKey","obj","getChain","toString","getContractAddress","chain","at","loadContract","library","undefined","address","contractArtifact","Contract","substring","abi","getContractFactory","signer","ContractFactory","bytecode","getProjectContract","formatBalance","balance","_path","Balance","useProvider","useChainId","setBalance","tokenBalance","setTokenBalance","stale","getBalance","b","catch","didCancel","getSigner","token","balanceOf","getTokenBalance","utils","formatEther","placement","Account","useENSName","ENSName","setAddress","showDetails","setShowDetails","tmp","includes","String","textTransform","usePriorityConnector","usePriorityChainId","usePriorityAccount","usePriorityIsActive","usePriorityError","Web3Connect","currentChainId","isActive","setDesiredChainId","DappNavbar","expand","container","RouterNavLink","to","SvgDiscord","HomeFooter","paddingTop","paddingBottom","marginTop","justifyContent","href","fontSize","delay","Date","getFullYear","Breadcrumbs","links","allLinks","link","concat","listClassName","active","isDark","c","charAt","parseInt","getColor","ProjectCard","description","time","sm","md","lg","toLocaleDateString","usePriorityProvider","Projects","projects","setProjects","loading","setLoading","newProjects","manager","getProjectsLength","len","push","fetchProjects","outline","Link","deployContract","contractName","tokenAddress","factory","generateRandomSecret","deployArgs","deploy","registerContract","activateProject","breadcrumbLinks","CreateProject","useIsActive","setName","projectType","setProjectType","setDescription","isSubmitted","setSubmitted","getPublicKey","deployTransaction","transaction","borderBottom","body","maxWidth","for","placeholder","required","invalid","ProjectSummary","numPlans","numNodes","numActiveNodes","isRunning","xs","predefinedModels","Map","cidToName","getNameOfCID","get","AllPlans","download","plans","setPlans","start","fetchPlans","num","Math","min","plan","scope","baseModelCID","numRounds","finalModelCID","creator","ProjectPlans","currentRound","alertMessage","setAlertMessage","alertIsError","setAlertIsError","nodeReward","RoleBadge","text","BuilderDescription","isBuilder","requestedAccess","setRequestedAccess","fetchRequestState","builderRequests","builderAddress","constants","AddressZero","requestAccess","requestJoinBuilder","DataProviderDescription","nodeState","nodeActive","useParams","command","noRequest","setNoRequest","waiting","declined","accepted","requestJoinNode","navigator","clipboard","writeText","ProjectRoles","builder","inverse","BuilderRequests","getBuilderRequestsLength","fetchRequest","builderRequestsArray","requestAddress","acceptBuilderJoinRequest","declineBuilderJoinRequest","ProjectDashboard","setNumPlans","setNumNodes","setNumActiveNodes","setCurrentRound","setIsRunning","setPlan","setBuilder","setNodeState","node","setNode","fetchRoles","builders","n","nodesArray","fetchData","getNodesLength","activeNodes","isPlanRunning","nodes","planRunning","round","mostRecentPlan","activated","isValidCID","isIPFS","CreatePlan","modelCID","setModelCID","modelName","setModelName","isCustome","setIsCustome","setNumRounds","reward","setReward","newAllowance","setNewAllowance","isPlanSubmitted","setPlanSubmitted","isAllowSubmitted","setAllowSubmitted","allowance","setAllowance","tokenContract","setTokenContract","allow","getTokenContract","totalReward","totalRewardBN","parseUnits","remAllowance","formatUnits","sub","positive","gte","clearModal","createPlan","updateAllowance","checked","readOnly","has","row","borderless","Project","setContract","getContract","index","element","path","Dapp","flexDirection","fluid","App","Helmet","content","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","console","ascii85","require","params","keyB64","enc","encrypt","encode","version","ephemPublicKey","nonce","toJSON","structuredData","ct","JSON","stringify","decrypt","decode","randomBytes","getNodeSecret","keyTurn","entryKeyTurn","sha256","update","digest"],"mappings":"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","file":"static/js/main.773ea25f.chunk.js","sourcesContent":["import { initializeConnector } from '@web3-react/core';\nimport { MetaMask } from '@web3-react/metamask';\n\nexport const [metaMask, hooks, store] = initializeConnector<MetaMask>((actions: any) => new MetaMask(actions));\n","import { Provider } from '@web3-react/types';\nimport { saveAs } from 'file-saver';\n\nimport { decryptData } from './cryptography';\n\nexport const downloadCID = async (cid: string): Promise<Buffer> => {\n  const file = await fetch(`https://ipfs.io/ipfs/${cid}`, { method: 'GET' });\n  return Buffer.from(await file.arrayBuffer());\n};\n\nexport const downloadModel = async (provider: Provider, account: string, cid: string) => {\n  const data = await downloadCID(cid);\n  const model = await decryptData(provider, account, data);\n  const blob = new Blob([model], { type: 'application/octet-stream' });\n  saveAs(blob, 'model.joblib');\n};\n","/* eslint-disable no-nested-ternary */\n/* eslint-disable no-underscore-dangle */\nimport { Contract } from 'ethers';\nimport { arrayify } from 'ethers/lib/utils';\nimport { FC, useCallback, useEffect, useState } from 'react';\nimport { Check, X, Send } from 'react-feather';\nimport { Button, Card, CardBody, CardTitle, Col, Modal, ModalBody, ModalFooter, ModalHeader, Progress, Row, Table } from 'reactstrap';\nimport { hooks, metaMask } from '../../connectors/metaMask';\nimport { encryptSecret, getNodeCurrentSecret } from '../../utils/cryptography';\nimport CircleIcon from '../CircleIcon';\n\ninterface DataProviderRequestsProps {\n  contract: Contract;\n}\n\ninterface DataProviderJoinRequest {\n  _address: string;\n  publicKey: string;\n}\n\nconst DataProviderRequests: FC<DataProviderRequestsProps> = ({ contract }) => {\n  const [requests, setRequests] = useState<DataProviderJoinRequest[]>([]);\n\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [showModal, setShowModal] = useState(false);\n\n  const { useAccount } = hooks;\n  const account = useAccount();\n  const { provider } = metaMask;\n\n  const fetchRequests = useCallback(async () => {\n    if (!contract) return;\n\n    const numberOfRequests = (await contract.getNodeRequestsLength())?.toNumber();\n\n    setRequests(\n      await Promise.all(\n        Array(numberOfRequests).fill(0).map((_, i) => contract.nodeRequests(i)),\n      ),\n    );\n  }, [contract]);\n\n  useEffect(() => {\n    fetchRequests();\n  }, [fetchRequests]);\n\n  const decideRequest = async (publicKey: string, approve: boolean) => {\n    if (!contract || !account || !provider) return;\n\n    setShowModal(true);\n    setProgress(2);\n    setError('');\n\n    try {\n      let tx;\n      if (approve) {\n        const secret = await getNodeCurrentSecret(provider, contract, account);\n        const ciphertext = encryptSecret(Buffer.from(arrayify(publicKey)), secret);\n        tx = await contract.acceptNode(ciphertext);\n      } else {\n        tx = await contract.declineNode();\n      }\n\n      setProgress(3);\n\n      await tx.wait();\n      setProgress(5);\n    } catch (e: any) {\n      setError(e && e.message ? e.message : 'Unknown error');\n      setProgress((progress > 2) ? 4 : 2);\n    }\n\n    await fetchRequests();\n  };\n\n  return (\n    <>\n      <Row className=\"gt-2 mt-3\">\n        <Col>\n          <Card className=\"shadow\">\n            <CardBody>\n              <CardTitle tag=\"h3\">\n                Data Provider Access Requests\n              </CardTitle>\n              {!requests.length && (\n                <h5 className=\"text-muted\">\n                  There are no builder requests.\n                </h5>\n              )}\n            </CardBody>\n            {!!requests.length && (\n              <Table hover responsive>\n                <thead>\n                  <tr>\n                    <th className=\"ps-5\">#</th>\n                    <th className=\"text-center\">Address</th>\n                    <th className=\"text-center\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {requests.slice().reverse().map((request, idx) => (\n                    <tr key={request._address}>\n                      <th className=\"ps-5 align-middle\">{idx}</th>\n                      <td className=\"text-center align-middle\">{request._address}</td>\n                      <td className=\"text-center align-items-center\">\n                        {idx === 0 && (\n                          <>\n                            <CircleIcon icon={<Check />} onClick={() => decideRequest(request.publicKey, true)} />\n                            <CircleIcon color=\"danger\" icon={<X />} onClick={() => decideRequest(request.publicKey, false)} />\n                          </>\n                        )}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n            )}\n          </Card>\n        </Col>\n      </Row>\n\n      <Modal centered isOpen={showModal}>\n        <ModalHeader>\n          Transaction {progress < 5 ? 'in Progress' : 'Finished'}\n        </ModalHeader>\n        <ModalBody>\n          Don&apos;t close this browser tab while running!\n        </ModalBody>\n        <div className=\"d-flex align-items-center m-4 position-relative\">\n          <Progress\n            className=\"w-100 m-0\"\n            animated={!error && progress < 5}\n            color={error ? 'danger' : 'success'}\n            value={progress}\n            max={4}\n          />\n          <CircleIcon\n            icon={<Send />}\n            color={\n              error && progress === 2\n                ? 'danger'\n                : progress < 3\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 3 && !(error && progress === 2)}\n            style={{\n              position: 'absolute',\n              left: 0,\n              right: 0,\n              margin: '0 auto',\n            }}\n          />\n          <CircleIcon\n            icon={<Check />}\n            color={\n              error && progress === 4\n                ? 'danger'\n                : progress < 5\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 5 && !(error && progress === 5)}\n            style={{ position: 'absolute', right: 0 }}\n          />\n        </div>\n        <div>\n          <ModalBody className=\"text-danger\">\n            {error && (\n              <>\n                <span className=\"fw-bold\">Error: </span>\n                {error}\n              </>\n            )}\n          </ModalBody>\n        </div>\n        <ModalFooter>\n          <Button\n            disabled={progress < 5}\n            color=\"primary\"\n            onClick={() => setShowModal(false)}\n          >\n            Finish\n          </Button>{' '}\n          <Button onClick={() => setShowModal(false)}>Close</Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n};\n\nexport default DataProviderRequests;\n","var map = {\n\t\"./80001/0x826dAF063b0017CBf4c65239d7E215245ad8c504.json\": [\n\t\t367,\n\t\t14\n\t],\n\t\"./80001/0xbD5EF22DEd36B67F9f8404e197DC61105F03138F.json\": [\n\t\t368,\n\t\t15\n\t],\n\t\"./map.json\": [\n\t\t99\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 227;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./Builders.json\": [\n\t\t369,\n\t\t7\n\t],\n\t\"./DataProviders.json\": [\n\t\t370,\n\t\t8\n\t],\n\t\"./FELToken.json\": [\n\t\t371,\n\t\t9\n\t],\n\t\"./LinkToken.json\": [\n\t\t372,\n\t\t10\n\t],\n\t\"./ProjectContract.json\": [\n\t\t366,\n\t\t1\n\t],\n\t\"./ProjectManager.json\": [\n\t\t373,\n\t\t11\n\t],\n\t\"./TrainingPlans.json\": [\n\t\t374,\n\t\t12\n\t],\n\t\"./VRFCoordinatorMock.json\": [\n\t\t375,\n\t\t13\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 234;\nmodule.exports = webpackAsyncContext;","import { FC, CSSProperties, ReactNode, MouseEventHandler } from 'react';\nimport { Button } from 'reactstrap';\nimport classNames from 'classnames';\n\ntype propTypes = {\n  icon: ReactNode;\n  light?: boolean;\n  color?: string;\n  style?: CSSProperties;\n  size?: string;\n  onClick?: MouseEventHandler;\n};\n\nconst CircleIcon: FC<propTypes> = ({ icon, light = false, color = 'success', style = {}, size = '', onClick }) => (\n  <Button\n    className={`btn-icon-only rounded-circle ${!onClick && 'cursor-default'}`}\n    color={color}\n    style={style}\n    size={size}\n    onClick={onClick}\n  >\n    <span className={classNames('btn-inner--icon', { 'text-white': !light })}>\n      {icon}\n    </span>\n  </Button>\n);\n\nexport default CircleIcon;\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 512,\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0,512) scale(0.1,-0.1)\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1360 2540 l0 -1900 465 0 465 0 0 745 0 745 700 0 700 0 0 355 0 355 -700 0 -700 0 0 425 0 425 885 0 885 0 0 375 0 375 -1350 0 -1350 0 0 -1900z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2940 1025 l0 -375 375 0 375 0 0 375 0 375 -375 0 -375 0 0 -375z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.8c3677d9.svg\";\nexport { ForwardRef as ReactComponent };","var _style, _polygon, _g, _g2, _polygon2, _polygon3, _g3, _g4, _polygon4, _polygon5, _polygon6, _polygon7, _g5, _polygon8, _polygon9, _polygon10;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMetamaskFox(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 318.6 318.6\",\n    style: {\n      enableBackground: \"new 0 0 318.6 318.6\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _style || (_style = /*#__PURE__*/React.createElement(\"style\", {\n    type: \"text/css\"\n  }, \"\\n\\t.st0{fill:#E2761B;stroke:#E2761B;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st1{fill:#E4761B;stroke:#E4761B;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st2{fill:#D7C1B3;stroke:#D7C1B3;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st3{fill:#233447;stroke:#233447;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st4{fill:#CD6116;stroke:#CD6116;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st5{fill:#E4751F;stroke:#E4751F;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st6{fill:#F6851B;stroke:#F6851B;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st7{fill:#C0AD9E;stroke:#C0AD9E;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st8{fill:#161616;stroke:#161616;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st9{fill:#763D16;stroke:#763D16;stroke-linecap:round;stroke-linejoin:round;}\\n\")), _polygon || (_polygon = /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st0\",\n    points: \"274.1,35.5 174.6,109.4 193,65.8 \"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st1\",\n    points: \"44.4,35.5 143.1,110.1 125.6,65.8  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st1\",\n    points: \"238.3,206.8 211.8,247.4 268.5,263 284.8,207.7  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st1\",\n    points: \"33.9,207.7 50.1,263 106.8,247.4 80.3,206.8  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st1\",\n    points: \"103.6,138.2 87.8,162.1 144.1,164.6 142.1,104.1  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st1\",\n    points: \"214.9,138.2 175.9,103.4 174.6,164.6 230.8,162.1  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st1\",\n    points: \"106.8,247.4 140.6,230.9 111.4,208.1  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st1\",\n    points: \"177.9,230.9 211.8,247.4 207.1,208.1  \"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st2\",\n    points: \"211.8,247.4 177.9,230.9 180.6,253 180.3,262.3  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st2\",\n    points: \"106.8,247.4 138.3,262.3 138.1,253 140.6,230.9  \"\n  }))), _polygon2 || (_polygon2 = /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st3\",\n    points: \"138.8,193.5 110.6,185.2 130.5,176.1 \"\n  })), _polygon3 || (_polygon3 = /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st3\",\n    points: \"179.7,193.5 188,176.1 208,185.2 \"\n  })), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st4\",\n    points: \"106.8,247.4 111.6,206.8 80.3,207.7  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st4\",\n    points: \"207,206.8 211.8,247.4 238.3,207.7  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st4\",\n    points: \"230.8,162.1 174.6,164.6 179.8,193.5 188.1,176.1 208.1,185.2  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st4\",\n    points: \"110.6,185.2 130.6,176.1 138.8,193.5 144.1,164.6 87.8,162.1  \"\n  }))), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st5\",\n    points: \"87.8,162.1 111.4,208.1 110.6,185.2  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st5\",\n    points: \"208.1,185.2 207.1,208.1 230.8,162.1  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st5\",\n    points: \"144.1,164.6 138.8,193.5 145.4,227.6 146.9,182.7  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st5\",\n    points: \"174.6,164.6 171.9,182.6 173.1,227.6 179.8,193.5  \"\n  }))), _polygon4 || (_polygon4 = /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st6\",\n    points: \"179.8,193.5 173.1,227.6 177.9,230.9 207.1,208.1 208.1,185.2 \"\n  })), _polygon5 || (_polygon5 = /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st6\",\n    points: \"110.6,185.2 111.4,208.1 140.6,230.9 145.4,227.6 138.8,193.5 \"\n  })), _polygon6 || (_polygon6 = /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st7\",\n    points: \"180.3,262.3 180.6,253 178.1,250.8 140.4,250.8 138.1,253 138.3,262.3 106.8,247.4 117.8,256.4  140.1,271.9 178.4,271.9 200.8,256.4 211.8,247.4 \"\n  })), _polygon7 || (_polygon7 = /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st8\",\n    points: \"177.9,230.9 173.1,227.6 145.4,227.6 140.6,230.9 138.1,253 140.4,250.8 178.1,250.8 180.6,253 \"\n  })), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st9\",\n    points: \"278.3,114.2 286.8,73.4 274.1,35.5 177.9,106.9 214.9,138.2 267.2,153.5 278.8,140 273.8,136.4  281.8,129.1 275.6,124.3 283.6,118.2  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st9\",\n    points: \"31.8,73.4 40.3,114.2 34.9,118.2 42.9,124.3 36.8,129.1 44.8,136.4 39.8,140 51.3,153.5 103.6,138.2  140.6,106.9 44.4,35.5  \"\n  }))), _polygon8 || (_polygon8 = /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st6\",\n    points: \"267.2,153.5 214.9,138.2 230.8,162.1 207.1,208.1 238.3,207.7 284.8,207.7 \"\n  })), _polygon9 || (_polygon9 = /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st6\",\n    points: \"103.6,138.2 51.3,153.5 33.9,207.7 80.3,207.7 111.4,208.1 87.8,162.1 \"\n  })), _polygon10 || (_polygon10 = /*#__PURE__*/React.createElement(\"polygon\", {\n    className: \"st6\",\n    points: \"174.6,164.6 177.9,106.9 193.1,65.8 125.6,65.8 140.6,106.9 144.1,164.6 145.3,182.8 145.4,227.6  173.1,227.6 173.3,182.8 \"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMetamaskFox);\nexport default __webpack_public_path__ + \"static/media/metamask-fox.025eadf5.svg\";\nexport { ForwardRef as ReactComponent };","import type { AddEthereumChainParameter } from '@web3-react/types';\n\nconst MATIC: AddEthereumChainParameter['nativeCurrency'] = {\n  name: 'Matic',\n  symbol: 'MATIC',\n  decimals: 18,\n};\n\ninterface BasicChainInformation {\n  url: string\n  name: string\n}\n\ninterface ExtendedChainInformation extends BasicChainInformation {\n  nativeCurrency: AddEthereumChainParameter['nativeCurrency']\n  blockExplorerUrls: AddEthereumChainParameter['blockExplorerUrls']\n}\n\nfunction isExtendedChainInformation(\n  chainInformation: BasicChainInformation | ExtendedChainInformation,\n): chainInformation is ExtendedChainInformation {\n  return !!(chainInformation as ExtendedChainInformation).nativeCurrency;\n}\n\nexport function getAddChainParameters(chainId: number): AddEthereumChainParameter | number {\n  const chainInformation = CHAINS[chainId];\n  if (isExtendedChainInformation(chainInformation)) {\n    return {\n      chainId,\n      chainName: chainInformation.name,\n      nativeCurrency: chainInformation.nativeCurrency,\n      rpcUrls: [chainInformation.url],\n      blockExplorerUrls: chainInformation.blockExplorerUrls,\n    };\n  }\n  return chainId;\n}\n\nexport const CHAINS: { [chainId: number]: BasicChainInformation | ExtendedChainInformation } = {\n  80001: {\n    url: process.env.REACT_APP_RPC_URL_80001 ?? '',\n    name: 'Polygon Mumbai',\n    nativeCurrency: MATIC,\n    blockExplorerUrls: ['https://mumbai.polygonscan.com'],\n  },\n  1337: {\n    url: process.env.REACT_APP_RPC_URL_1337 ?? '',\n    name: 'Localhost',\n  },\n};\n","import { FC } from 'react';\nimport { Button } from 'reactstrap';\nimport { metaMask, hooks } from '../../../connectors/metaMask';\nimport { ReactComponent as MetaMaskSvg } from '../../../assets/metamask-fox.svg';\nimport { getAddChainParameters } from '../../../utils/chains';\n\ninterface MetaMaskConnectProps {\n    desiredChainId: number;\n}\n\nconst MetaMaskConnect: FC<MetaMaskConnectProps> = ({ desiredChainId }) => {\n  const { useIsActivating } = hooks;\n  const isActivating = useIsActivating();\n\n  const clickConnect = () => {\n    if (isActivating) return;\n    metaMask.activate(getAddChainParameters(desiredChainId));\n  };\n\n  return (\n    <Button onClick={clickConnect} disabled={isActivating || desiredChainId === -1}>\n      <div style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\n        <MetaMaskSvg width={32} />\n        {isActivating ? 'Connecting...' : 'Connect'}\n      </div>\n    </Button>\n  );\n};\n\nexport default MetaMaskConnect;\n","import { initializeConnector } from '@web3-react/core';\nimport { Network } from '@web3-react/network';\nimport { CHAINS } from '../utils/chains';\n\n// Default to Mumbai for now\nconst DEFAULT_CHAINID = 80001;\n\nexport const [network, hooks, store] = initializeConnector<Network>(\n  (actions) => {\n    // TODO: This is bit ugly, I created issue in web3-react for updating the Network constructor\n    const connector = new Network(actions, CHAINS);\n    connector.activate(DEFAULT_CHAINID);\n    return connector;\n  },\n  Object.keys(CHAINS).map((chainId) => Number(chainId)),\n);\n","import { getPriorityConnector } from '@web3-react/core';\nimport { hooks as metaMaskHooks, metaMask } from './metaMask';\nimport { hooks as networkHooks, network } from './network';\n\nexport const hooks = getPriorityConnector(\n  [metaMask, metaMaskHooks],\n  [network, networkHooks],\n);\n","import { FC, ReactNode, useEffect, useState } from 'react';\nimport { X, AlertTriangle, Info } from 'react-feather';\n\ninterface AlertProps {\n    isOpen: boolean;\n    children: ReactNode;\n    error?: boolean;\n}\n\nconst Alert: FC<AlertProps> = ({ isOpen, children, error = true }) => {\n  const [open, setOpen] = useState(isOpen);\n\n  useEffect(() => {\n    setTimeout(() => {\n      setOpen(false);\n    }, 7000);\n  }, []);\n\n  if (!open) {\n    return null;\n  }\n\n  return (\n    <div style={{\n      position: 'fixed',\n      top: 40,\n      left: '50%',\n      transform: 'translateX(-50%)',\n      backgroundColor: (error ? '#F8D7DA' : '#d7ecf8'),\n      margin: 'auto',\n      padding: '16px 12px 16px 20px',\n      zIndex: 10,\n      borderRadius: '0.25rem',\n      display: 'flex',\n      alignItems: 'center',\n      color: (error ? '#842029' : '#204084'),\n    }}\n    >\n      {error ? <AlertTriangle style={{ marginRight: 8 }} /> : <Info style={{ marginRight: 8 }} />}\n      {children}\n      <X style={{ marginLeft: 20, cursor: 'pointer' }} onClick={() => setOpen(false)} />\n    </div>\n  );\n};\n\nexport default Alert;\n","import { FC } from 'react';\nimport { hooks } from '../../../connectors/priorityConnector';\nimport { CHAINS } from '../../../utils/chains';\n\nconst { usePriorityIsActivating } = hooks;\n\ninterface SelectNetworkProps {\n    desiredChainId: number;\n    setChainId: (chainId: number) => void;\n}\n\nconst SelectNetwork: FC<SelectNetworkProps> = ({ desiredChainId, setChainId }) => {\n  const isActivating = usePriorityIsActivating();\n\n  return (\n    <select\n      value={desiredChainId}\n      onChange={(event) => setChainId(Number(event.target.value))}\n      disabled={isActivating}\n      style={{\n        color: '#fff',\n        backgroundColor: '#697dcf',\n        opacity: 0.4,\n        border: '1px solid gray',\n        borderRadius: 4,\n        padding: '0.5em',\n        marginRight: 10,\n        margin: '0.5em 0',\n      }}\n    >\n      <option value={-1} disabled>-</option>\n      {Object.keys(CHAINS).map((key) => (\n        <option key={Number(key)} value={key}>\n          {CHAINS[Number(key)].name}\n        </option>\n      ))}\n    </select>\n  );\n};\n\nexport default SelectNetwork;\n","import { FC, useState } from 'react';\nimport { Tooltip, TooltipProps } from 'reactstrap';\n\nconst SimpleTooltip: FC<TooltipProps> = (props) => {\n  const [isOpen, setOpen] = useState(false);\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  return <Tooltip isOpen={isOpen} toggle={() => setOpen(!isOpen)} {...props} />;\n};\n\nexport default SimpleTooltip;\n","export function isKeyof<T extends Record<string, unknown>>(\n  possibleKey: keyof any,\n  obj: T,\n): possibleKey is keyof T {\n  return possibleKey in obj;\n}\n","import { Contract, ContractFactory, Signer, providers } from 'ethers';\nimport { isKeyof } from './indexGuard';\nimport map from '../artifacts/deployments/map.json';\n\ntype Provider = providers.Provider;\n\nfunction getChain(chainId: number): string {\n  return (chainId === 1337) ? 'dev' : chainId.toString();\n}\n\nexport function getContractAddress(chainId: number, name: string): undefined | string {\n  const chain = getChain(chainId);\n\n  if (isKeyof(chain, map) && isKeyof(name, map[chain])) return map[chain][name].at(-1);\n\n  return undefined;\n}\n\nexport async function loadContract(\n  chainId: number,\n  name: string,\n  library: Signer | Provider,\n): Promise<undefined | Contract> {\n  const chain = getChain(chainId);\n  const address = getContractAddress(chainId, name);\n\n  if (address === undefined) return undefined;\n\n  try {\n    const contractArtifact = await import(`../artifacts/deployments/${chain}/${address}.json`);\n    return new Contract(address.substring(2), contractArtifact.abi, library);\n  } catch (e) {\n    return undefined;\n  }\n}\n\nexport async function getContractFactory(\n  name: string,\n  signer: Signer,\n): Promise<undefined | ContractFactory> {\n  let contractArtifact;\n  try {\n    contractArtifact = await import(`../artifacts/contracts/${name}.json`);\n  } catch (e) {\n    return undefined;\n  }\n\n  return new ContractFactory(\n    contractArtifact.abi,\n    contractArtifact.bytecode,\n    signer,\n  );\n}\n\nexport async function getProjectContract(address: string, library: Signer | Provider): Promise<Contract | undefined> {\n  try {\n    const contractArtifact = await import('../artifacts/contracts/ProjectContract.json');\n    return new Contract(address, contractArtifact.abi, library);\n  } catch (e) {\n    return undefined;\n  }\n}\n","import { FC, useState, useEffect } from 'react';\nimport { utils, BigNumber } from 'ethers';\nimport { DollarSign } from 'react-feather';\nimport SimpleTooltip from '../../tooltip';\nimport { ReactComponent as TokenSvg } from '../../../assets/logo.svg';\nimport { loadContract } from '../../../utils/contracts';\nimport { hooks } from '../../../connectors/metaMask';\n\nfunction formatBalance(balance: string): string {\n  if (balance.length <= 15) {\n    return balance;\n  }\n  return `${balance.substring(0, 15)}...`;\n}\n\nconst Balance: FC = () => {\n  const { useAccount, useProvider, useChainId } = hooks;\n  const chainId = useChainId();\n  const account = useAccount();\n  const provider = useProvider();\n\n  const [balance, setBalance] = useState<BigNumber>();\n  const [tokenBalance, setTokenBalance] = useState<BigNumber>();\n\n  useEffect(() => {\n    let stale = false;\n\n    if (!!account && !!provider) {\n      provider\n        .getBalance(account)\n        .then((b: BigNumber) => !stale && setBalance(b))\n        .catch(() => !stale && setBalance(undefined));\n    }\n\n    return () => {\n      stale = true;\n      setBalance(undefined);\n    };\n  }, [account, provider, chainId]);\n\n  useEffect(() => {\n    let didCancel = false;\n\n    async function getTokenBalance() {\n      if (provider && chainId && account) {\n        const token = await loadContract(\n          chainId,\n          'FELToken',\n          provider.getSigner(),\n        );\n\n        if (token) {\n          const b = await token.balanceOf(account);\n          if (!didCancel) {\n            setTokenBalance(b);\n          }\n        }\n      }\n    }\n\n    getTokenBalance();\n    return () => {\n      didCancel = true;\n    };\n  }, [chainId, account, provider]);\n\n  return (\n    <>\n      <div id=\"balanceEther\" className=\"row px-3 align-items-center\">\n        <DollarSign className=\"col-2\" color=\"black\" />\n        <span className=\"col-10\">\n          {!!balance && formatBalance(utils.formatEther(balance))}\n        </span>\n        <SimpleTooltip placement=\"bottom\" target=\"balanceEther\">\n          Account Polygon balance\n        </SimpleTooltip>\n      </div>\n      <div id=\"balanceToken\" className=\"row px-3 align-items-center\">\n        <TokenSvg fill=\"black\" className=\"col-2\" width=\"24\" height=\"24\" />\n        <span className=\"col-10\">\n          {!!tokenBalance && formatBalance(utils.formatEther(tokenBalance))}\n        </span>\n        <SimpleTooltip placement=\"bottom\" target=\"balanceToken\">\n          Account FELT token balance\n        </SimpleTooltip>\n      </div>\n    </>\n  );\n};\n\nexport default Balance;\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDiscord(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#000000\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 50 50\",\n    width: 30,\n    height: 30,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 18.90625 7 C 18.90625 7 12.539063 7.4375 8.375 10.78125 C 8.355469 10.789063 8.332031 10.800781 8.3125 10.8125 C 7.589844 11.480469 7.046875 12.515625 6.375 14 C 5.703125 15.484375 4.992188 17.394531 4.34375 19.53125 C 3.050781 23.808594 2 29.058594 2 34 C 1.996094 34.175781 2.039063 34.347656 2.125 34.5 C 3.585938 37.066406 6.273438 38.617188 8.78125 39.59375 C 11.289063 40.570313 13.605469 40.960938 14.78125 41 C 15.113281 41.011719 15.429688 40.859375 15.625 40.59375 L 18.0625 37.21875 C 20.027344 37.683594 22.332031 38 25 38 C 27.667969 38 29.972656 37.683594 31.9375 37.21875 L 34.375 40.59375 C 34.570313 40.859375 34.886719 41.011719 35.21875 41 C 36.394531 40.960938 38.710938 40.570313 41.21875 39.59375 C 43.726563 38.617188 46.414063 37.066406 47.875 34.5 C 47.960938 34.347656 48.003906 34.175781 48 34 C 48 29.058594 46.949219 23.808594 45.65625 19.53125 C 45.007813 17.394531 44.296875 15.484375 43.625 14 C 42.953125 12.515625 42.410156 11.480469 41.6875 10.8125 C 41.667969 10.800781 41.644531 10.789063 41.625 10.78125 C 37.460938 7.4375 31.09375 7 31.09375 7 C 31.019531 6.992188 30.949219 6.992188 30.875 7 C 30.527344 7.046875 30.234375 7.273438 30.09375 7.59375 C 30.09375 7.59375 29.753906 8.339844 29.53125 9.40625 C 27.582031 9.09375 25.941406 9 25 9 C 24.058594 9 22.417969 9.09375 20.46875 9.40625 C 20.246094 8.339844 19.90625 7.59375 19.90625 7.59375 C 19.734375 7.203125 19.332031 6.964844 18.90625 7 Z M 18.28125 9.15625 C 18.355469 9.359375 18.40625 9.550781 18.46875 9.78125 C 16.214844 10.304688 13.746094 11.160156 11.4375 12.59375 C 11.074219 12.746094 10.835938 13.097656 10.824219 13.492188 C 10.816406 13.882813 11.039063 14.246094 11.390625 14.417969 C 11.746094 14.585938 12.167969 14.535156 12.46875 14.28125 C 17.101563 11.410156 22.996094 11 25 11 C 27.003906 11 32.898438 11.410156 37.53125 14.28125 C 37.832031 14.535156 38.253906 14.585938 38.609375 14.417969 C 38.960938 14.246094 39.183594 13.882813 39.175781 13.492188 C 39.164063 13.097656 38.925781 12.746094 38.5625 12.59375 C 36.253906 11.160156 33.785156 10.304688 31.53125 9.78125 C 31.59375 9.550781 31.644531 9.359375 31.71875 9.15625 C 32.859375 9.296875 37.292969 9.894531 40.3125 12.28125 C 40.507813 12.460938 41.1875 13.460938 41.8125 14.84375 C 42.4375 16.226563 43.09375 18.027344 43.71875 20.09375 C 44.9375 24.125 45.921875 29.097656 45.96875 33.65625 C 44.832031 35.496094 42.699219 36.863281 40.5 37.71875 C 38.5 38.496094 36.632813 38.84375 35.65625 38.9375 L 33.96875 36.65625 C 34.828125 36.378906 35.601563 36.078125 36.28125 35.78125 C 38.804688 34.671875 40.15625 33.5 40.15625 33.5 C 40.570313 33.128906 40.605469 32.492188 40.234375 32.078125 C 39.863281 31.664063 39.226563 31.628906 38.8125 32 C 38.8125 32 37.765625 32.957031 35.46875 33.96875 C 34.625 34.339844 33.601563 34.707031 32.4375 35.03125 C 32.167969 35 31.898438 35.078125 31.6875 35.25 C 29.824219 35.703125 27.609375 36 25 36 C 22.371094 36 20.152344 35.675781 18.28125 35.21875 C 18.070313 35.078125 17.8125 35.019531 17.5625 35.0625 C 16.394531 34.738281 15.378906 34.339844 14.53125 33.96875 C 12.234375 32.957031 11.1875 32 11.1875 32 C 10.960938 31.789063 10.648438 31.699219 10.34375 31.75 C 9.957031 31.808594 9.636719 32.085938 9.53125 32.464844 C 9.421875 32.839844 9.546875 33.246094 9.84375 33.5 C 9.84375 33.5 11.195313 34.671875 13.71875 35.78125 C 14.398438 36.078125 15.171875 36.378906 16.03125 36.65625 L 14.34375 38.9375 C 13.367188 38.84375 11.5 38.496094 9.5 37.71875 C 7.300781 36.863281 5.167969 35.496094 4.03125 33.65625 C 4.078125 29.097656 5.0625 24.125 6.28125 20.09375 C 6.90625 18.027344 7.5625 16.226563 8.1875 14.84375 C 8.8125 13.460938 9.492188 12.460938 9.6875 12.28125 C 12.707031 9.894531 17.140625 9.296875 18.28125 9.15625 Z M 18.5 21 C 15.949219 21 14 23.316406 14 26 C 14 28.683594 15.949219 31 18.5 31 C 21.050781 31 23 28.683594 23 26 C 23 23.316406 21.050781 21 18.5 21 Z M 31.5 21 C 28.949219 21 27 23.316406 27 26 C 27 28.683594 28.949219 31 31.5 31 C 34.050781 31 36 28.683594 36 26 C 36 23.316406 34.050781 21 31.5 21 Z M 18.5 23 C 19.816406 23 21 24.265625 21 26 C 21 27.734375 19.816406 29 18.5 29 C 17.183594 29 16 27.734375 16 26 C 16 24.265625 17.183594 23 18.5 23 Z M 31.5 23 C 32.816406 23 34 24.265625 34 26 C 34 27.734375 32.816406 29 31.5 29 C 30.183594 29 29 27.734375 29 26 C 29 24.265625 30.183594 23 31.5 23 Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDiscord);\nexport default __webpack_public_path__ + \"static/media/discord.8e5e8271.svg\";\nexport { ForwardRef as ReactComponent };","import { FC, useEffect, useState } from 'react';\nimport { Button, Modal, ModalBody, ModalHeader } from 'reactstrap';\nimport { hooks } from '../../../connectors/metaMask';\nimport Balance from './Balance';\nimport { CHAINS } from '../../../utils/chains';\nimport { ReactComponent as MetaMaskSvg } from '../../../assets/metamask-fox.svg';\n\nconst Account: FC = () => {\n  const { useAccount, useProvider, useENSName, useChainId } = hooks;\n  const account = useAccount();\n  const provider = useProvider();\n  const ENSName = useENSName(provider);\n  const chainId = useChainId();\n\n  const [address, setAddress] = useState<string>();\n  const [showDetails, setShowDetails] = useState(false);\n\n  useEffect(() => {\n    if (account) {\n      const tmp = ENSName ?? `${account.substring(0, 6)}...${account.substring(account.length - 4)}`;\n      setAddress(tmp);\n    } else {\n      setAddress(undefined);\n    }\n  }, [ENSName, account]);\n\n  if (!Object.keys(CHAINS).includes(String(chainId))) {\n    return (\n      <>\n        <Button color=\"danger\" onClick={() => setShowDetails(true)} style={{ textTransform: 'none', borderRadius: 12 }}>\n          Unsupported Network\n        </Button>\n        <Modal isOpen={showDetails}>\n          <ModalHeader toggle={() => setShowDetails(false)}>\n            Unsupported network\n          </ModalHeader>\n          <ModalBody>\n            <p>Please connect to a supported network in the dropdown menu or in your wallet.</p>\n          </ModalBody>\n        </Modal>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Button onClick={() => setShowDetails(true)} style={{ textTransform: 'none', borderRadius: 20 }}>\n        {address}\n      </Button>\n      <Modal isOpen={showDetails}>\n        <ModalHeader toggle={() => setShowDetails(false)}>\n          {address}\n        </ModalHeader>\n        <ModalBody>\n          <p>You are connected through MetaMask <MetaMaskSvg width={32} /></p>\n          <Balance />\n        </ModalBody>\n      </Modal>\n    </>\n  );\n};\n\nexport default Account;\n","import { FC, useState, useEffect, useCallback } from 'react';\nimport { Network } from '@web3-react/network';\nimport MetaMaskConnect from './MetaMaskConnect';\n\nimport { CHAINS, getAddChainParameters } from '../../../utils/chains';\nimport { hooks } from '../../../connectors/priorityConnector';\nimport Alert from '../../Alert';\nimport SelectNetwork from './SelectNetwork';\nimport Account from './Account';\n\nconst { usePriorityConnector, usePriorityChainId, usePriorityAccount, usePriorityIsActive, usePriorityError } = hooks;\n\nconst Web3Connect: FC = () => {\n  const connector = usePriorityConnector();\n  const currentChainId = usePriorityChainId();\n  const isActive = usePriorityIsActive();\n  const error = usePriorityError();\n  const account = usePriorityAccount();\n\n  const [desiredChainId, setDesiredChainId] = useState(1337);\n\n  const setChainId = useCallback((chainId: number) => {\n    setDesiredChainId(chainId);\n\n    if (chainId !== -1 && chainId !== currentChainId && isActive) {\n      if (connector instanceof Network) {\n        connector.activate(chainId === -1 ? undefined : chainId);\n      } else {\n        connector.activate(chainId === -1 ? undefined : getAddChainParameters(chainId));\n      }\n    }\n  }, [currentChainId, isActive, connector]);\n\n  useEffect(() => {\n    if (currentChainId && Object.keys(CHAINS).includes(String(currentChainId))) {\n      setDesiredChainId(currentChainId);\n    }\n  }, [currentChainId]);\n\n  useEffect(() => {\n    if (isActive && !Object.keys(CHAINS).includes(String(currentChainId))) {\n      setDesiredChainId(-1);\n    }\n  }, [currentChainId, isActive]);\n\n  return (\n    <div style={{ display: 'flex', alignItems: 'center', gap: 20 }}>\n      <SelectNetwork desiredChainId={desiredChainId} setChainId={setChainId} />\n\n      {account ? (\n        <Account />\n      ) : (\n        <MetaMaskConnect desiredChainId={desiredChainId} />\n      )}\n\n      {error && (\n        <Alert isOpen>\n          {error.name ?? 'Error'}: {error.message}\n        </Alert>\n      )}\n\n    </div>\n  );\n};\n\nexport default Web3Connect;\n","import { FC } from 'react';\nimport { Navbar, NavbarBrand } from 'reactstrap';\nimport { NavLink as RouterNavLink } from 'react-router-dom';\nimport { ReactComponent as Logo } from '../../assets/logo.svg';\nimport Web3Connect from '../dapp/web3Connect/Web3Connect';\n\nconst DappNavbar: FC = () => (\n  <Navbar expand=\"md\" container=\"lg\" light className=\"shadow\">\n    <NavbarBrand tag={RouterNavLink} to=\"/\">\n      <Logo width={50} height={50} fill=\"#32325d\" />\n      FELT\n    </NavbarBrand>\n\n    <Web3Connect />\n  </Navbar>\n);\n\nexport default DappNavbar;\n","import React, { FC } from 'react';\nimport {\n  Button,\n  Container,\n  NavbarBrand,\n  NavLink,\n  UncontrolledTooltip,\n} from 'reactstrap';\nimport { GitHub, Twitter } from 'react-feather';\nimport { NavLink as RouterNavLink } from 'react-router-dom';\nimport { ReactComponent as Logo } from '../../assets/logo.svg';\nimport { ReactComponent as Discord } from '../../assets/icons/discord.svg';\n\nconst HomeFooter: FC = () => {\n  const blogUrl = 'https://bretahajek.com';\n  const docsUrl = 'https://docs.feltoken.ai';\n  const githubUrl = 'https://github.com/FELToken/federated-learning-token';\n  const twitterUrl = 'https://twitter.com/FELToken';\n  const discordUrl = 'https://discord.gg/G4ZFfstsV2';\n  const licenceUrl = 'https://github.com/FELToken/federated-learning-token/blob/main/LICENSE';\n\n  return (\n    <Container style={{ paddingTop: 52, paddingBottom: 8, marginTop: 'auto' }}>\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n        }}\n      >\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: 16,\n          }}\n        >\n          <NavbarBrand tag={RouterNavLink} to=\"/\" style={{ color: 'black', cursor: 'pointer' }}>\n            <Logo width={50} height={50} fill=\"#32325d\" />\n            FELT\n          </NavbarBrand>\n          <div>\n            <NavLink href={blogUrl} target=\"_blank\" style={{ fontSize: 14 }}>\n              Blog\n            </NavLink>\n            <NavLink href={docsUrl} style={{ fontSize: 14 }}>\n              Docs\n            </NavLink>\n          </div>\n        </div>\n\n        <div>\n          <Button\n            className=\"btn-icon-only rounded-circle ml-1\"\n            color=\"twitter\"\n            href={twitterUrl}\n            id=\"tooltip_footer_twitter\"\n            target=\"_blank\"\n          >\n            <span className=\"btn-inner--icon text-white\">\n              <Twitter />\n            </span>\n          </Button>\n          <UncontrolledTooltip delay={0} target=\"tooltip_footer_twitter\">\n            Follow on Twitter\n          </UncontrolledTooltip>\n          <Button\n            className=\"btn-icon-only rounded-circle ml-1\"\n            color=\"discord\"\n            href={discordUrl}\n            id=\"tooltip_footer_discord\"\n            target=\"_blank\"\n          >\n            <span className=\"btn-inner--icon text-white\">\n              <Discord fill=\"white\" />\n            </span>\n          </Button>\n          <UncontrolledTooltip delay={0} target=\"tooltip_footer_discord\">\n            Join community Discord\n          </UncontrolledTooltip>\n          <Button\n            className=\"btn-icon-only rounded-circle ml-1\"\n            color=\"github\"\n            href={githubUrl}\n            id=\"tooltip_footer_github\"\n            target=\"_blank\"\n          >\n            <span className=\"btn-inner--icon text-white\">\n              <GitHub />\n            </span>\n          </Button>\n          <UncontrolledTooltip delay={0} target=\"tooltip_footer_github\">\n            Star on Github\n          </UncontrolledTooltip>\n        </div>\n      </div>\n\n      <div style={{ display: 'flex', justifyContent: 'center', marginTop: 20 }}>\n        <NavLink\n          href=\"https://github.com/FELToken\"\n          target=\"_blank\"\n          style={{ fontSize: 14 }}\n        >\n          © {new Date().getFullYear()} FELToken\n        </NavLink>\n\n        <NavLink href={licenceUrl} target=\"_blank\" style={{ fontSize: 14 }}>\n          GPL-3.0 License\n        </NavLink>\n      </div>\n    </Container>\n  );\n};\n\nexport default HomeFooter;\n","import { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Breadcrumb, BreadcrumbItem, Col } from 'reactstrap';\n\ntype linkType = {\n  link: string;\n  name: string;\n};\n\ntype propTypes = {\n  title: string;\n  links?: Array<linkType>;\n};\n\nconst Breadcrumbs: FC<propTypes> = ({ title, links = [] }) => {\n  const allLinks = [\n    {\n      link: '/',\n      name: 'Application',\n    },\n  ].concat(links);\n\n  return (\n    <Col className=\"p-3 ps-4\">\n      <Breadcrumb listClassName=\"m-0\">\n        {allLinks.map(({ link, name }, idx) => {\n          const active = allLinks.length === idx + 1;\n          return (\n            <BreadcrumbItem key={name} active={active}>\n              {active ? <span>{name}</span> : <Link to={link}>{name}</Link>}\n            </BreadcrumbItem>\n          );\n        })}\n      </Breadcrumb>\n      <h3>{title}</h3>\n    </Col>\n  );\n};\n\nexport default Breadcrumbs;\n","import { FC } from 'react';\nimport { Col, Card, CardBody, CardTitle, CardSubtitle, CardText, Button } from 'reactstrap';\nimport { Clock } from 'react-feather';\nimport { Link } from 'react-router-dom';\n\nfunction isDark(color: string): boolean {\n  const c = (color.charAt(0) === '#') ? color.substring(1, 7) : color;\n  const r = parseInt(c.substring(0, 2), 16);\n  const g = parseInt(c.substring(2, 4), 16);\n  const b = parseInt(c.substring(4, 6), 16);\n  return ((r * 0.299) + (g * 0.587) + (b * 0.114)) < 186;\n}\n\nfunction getColor(address: string): string {\n  return `#${address.substring(2, 6)}60`;\n}\n\ninterface ProjectCardProps {\n  chainId: number;\n  address: string;\n  name: string;\n  description: string;\n  time: number;\n}\n\nconst ProjectCard: FC<ProjectCardProps> = ({ chainId, address, name, description, time }) => (\n  <Col key={address} sm=\"12\" md=\"6\" lg=\"4\" className=\"mb-4\">\n    <Card className=\"project-card shadow overflow-hidden border-0\">\n      <div\n        className=\"d-flex align-items-center\"\n        style={{\n          height: '8rem',\n          backgroundColor: getColor(address),\n        }}\n      >\n        <CardTitle\n          tag=\"h2\"\n          className={`text-center align-middle ${isDark(getColor(address)) ? 'light' : ''}`}\n          style={{ height: 'auto', width: '100%' }}\n        >\n          {name.length > 50 ? `${name.substring(0, 50)}...` : name}\n        </CardTitle>\n      </div>\n      <CardBody>\n        <CardSubtitle className=\"mb-2 text-muted\" tag=\"h6\">\n          <Clock height=\"14\" width=\"14\" />\n          <span className=\"align-middle\" style={{ marginLeft: 8 }}>\n            {new Date(time * 1000).toLocaleDateString()}\n          </span>\n        </CardSubtitle>\n        <CardText>{description}</CardText>\n        <Link to={`project/${chainId}/${address}`}>\n          <Button>Details</Button>\n        </Link>\n      </CardBody>\n    </Card>\n  </Col>\n);\n\nexport default ProjectCard;\n","import { FC, useState, useEffect } from 'react';\nimport { Row, Button, Spinner } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nimport { loadContract } from '../utils/contracts';\nimport Breadcrumbs from '../components/dapp/Breadcrumbs';\nimport ProjectCard from '../components/project/ProjectCard';\nimport { Project } from '../utils/contractTypes';\nimport { hooks } from '../connectors/priorityConnector';\n\nconst { usePriorityChainId, usePriorityProvider } = hooks;\n\nconst Projects: FC = () => {\n  const [projects, setProjects] = useState<Array<Project>>([]);\n\n  const provider = usePriorityProvider();\n  const chainId = usePriorityChainId();\n\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let didCancel = false;\n\n    async function fetchProjects() {\n      setLoading(true);\n      const newProjects = [];\n\n      if (provider && chainId) {\n        const manager = await loadContract(chainId, 'ProjectManager', provider);\n        if (manager) {\n          const len = await manager.getProjectsLength();\n          for (let i = 0; i < len && !didCancel; i++) {\n            newProjects.push(manager.projects(i));\n          }\n        }\n      }\n\n      if (!didCancel) {\n        setProjects(await Promise.all(newProjects));\n      }\n      setLoading(false);\n    }\n\n    fetchProjects();\n    return () => {\n      didCancel = true;\n    };\n  }, [provider, chainId]);\n\n  return (\n    <>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <Breadcrumbs title=\"All Projects\" />\n        <Button color=\"default\" outline to=\"/create-project\" tag={Link} style={{ marginRight: 40 }}>\n          Create Project\n        </Button>\n      </div>\n\n      <Row className=\"px-3\">\n        {chainId && projects.map(([address, name, description, time]) => (\n          <ProjectCard\n            chainId={chainId}\n            address={address}\n            name={name}\n            description={description}\n            time={time}\n            key={address}\n          />\n        ))}\n      </Row>\n\n      {loading && <Spinner />}\n    </>\n  );\n};\n\nexport default Projects;\n","/* eslint-disable no-nested-ternary */\nimport { FC, useState } from 'react';\nimport { Contract, Signer, providers } from 'ethers';\nimport {\n  Button,\n  Row,\n  Form,\n  FormGroup,\n  Input,\n  FormText,\n  Label,\n  Card,\n  Modal,\n  ModalFooter,\n  ModalHeader,\n  ModalBody,\n  Spinner,\n  Progress,\n  Alert,\n} from 'reactstrap';\nimport { Check, Info, Key, Upload } from 'react-feather';\nimport { Link } from 'react-router-dom';\n\nimport { getContractFactory, getContractAddress, loadContract } from '../utils/contracts';\nimport Breadcrumbs from '../components/dapp/Breadcrumbs';\nimport CircleIcon from '../components/CircleIcon';\nimport { encryptSecret, generateRandomSecret, getPublicKey } from '../utils/cryptography';\nimport { metaMask, hooks } from '../connectors/metaMask';\n\nasync function deployContract(\n  publicKey: Buffer,\n  contractName: string,\n  chainId: number,\n  signer: Signer,\n): Promise<Contract> {\n  const tokenAddress = getContractAddress(chainId, 'FELToken');\n  const factory = await getContractFactory(contractName, signer);\n\n  if (!factory) {\n    throw Error(\n      'Invalid contract type, unable to load contract for deployment.',\n    );\n  }\n\n  const key = generateRandomSecret();\n  const ciphertext = encryptSecret(publicKey, key);\n\n  const deployArgs = [\n    tokenAddress,\n    // Builder setup\n    publicKey,\n    ciphertext,\n  ];\n  return factory.deploy(...deployArgs);\n}\n\nasync function registerContract(\n  address: string,\n  name: string,\n  description: string,\n  chainId: number,\n  signer: Signer,\n): Promise<providers.TransactionResponse> {\n  const manager = await loadContract(chainId, 'ProjectManager', signer);\n  if (!manager) {\n    throw Error('Unable to load Project Manager contract.');\n  }\n  return manager.activateProject(address, name, description, 0);\n}\n\nconst breadcrumbLinks = [\n  {\n    link: '',\n    name: 'Create Project',\n  },\n];\n\nconst CreateProject: FC = () => {\n  const { useChainId, useProvider, useAccount, useIsActive } = hooks;\n\n  const chainId = useChainId();\n  const provider = useProvider();\n  const isActive = useIsActive();\n  const account = useAccount();\n\n  const [name, setName] = useState('');\n  const [projectType, setProjectType] = useState('ProjectContract');\n  const [description, setDescription] = useState('');\n\n  const [address, setAddress] = useState('');\n\n  const [isSubmitted, setSubmitted] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState('');\n\n  const deploy = async () => {\n    if (!provider || !metaMask.provider || !account) {\n      return;\n    }\n    setSubmitted(true);\n    setProgress(0);\n    setAddress('');\n\n    if (!(chainId && name && description)) {\n      return;\n    }\n\n    setError('');\n    setShowModal(true);\n\n    setProgress(2);\n    let publicKey;\n    try {\n      publicKey = await getPublicKey(metaMask.provider, account);\n    } catch (e: any) {\n      setError(e && e.message ? e.message : 'Unknown error');\n      return;\n    }\n\n    setProgress(3);\n    let contract;\n    try {\n      contract = await deployContract(\n        publicKey,\n        projectType,\n        chainId,\n        provider.getSigner(),\n      );\n    } catch (e: any) {\n      setError(e && e.message ? e.message : 'Unknown error');\n      return;\n    } finally {\n      setProgress(4);\n    }\n\n    await contract.deployTransaction.wait();\n    setProgress(5);\n\n    setAddress(contract.address);\n\n    let transaction;\n    try {\n      transaction = await registerContract(\n        contract.address,\n        name,\n        description,\n        chainId,\n        provider.getSigner(),\n      );\n    } catch (e: any) {\n      setError(e && e.message ? e.message : 'Unknown error');\n      return;\n    } finally {\n      setProgress(6);\n    }\n\n    await transaction.wait();\n    setProgress(7);\n  };\n\n  return (\n    <main>\n      <Breadcrumbs title=\"Create Project\" links={breadcrumbLinks} />\n      <Row className=\"px-4 px-sm-5 pb-5 justify-content-center\">\n        {address && progress === 7 && (\n          <Alert color=\"primary d-flex align-items-center text-primary\">\n            <Info className=\"me-3\" />\n            <div>\n              Contract was deployed. For more details visit project dashboard:\n              <br />\n              <Link\n                className=\"alert-link\"\n                to={`../project/${chainId}/${address}`}\n                style={{\n                  color: '#374066',\n                  borderBottom: '1px dotted rgb(0 0 0 / 50%)',\n                }}\n              >\n                {address}\n              </Link>\n            </div>\n          </Alert>\n        )}\n        <Card body className=\"shadow border-0\" style={{ maxWidth: '800px' }}>\n          <Form>\n            <FormGroup>\n              <Label for=\"projectName\">Project Name</Label>\n              <Input\n                id=\"projectName\"\n                name=\"projectName\"\n                placeholder=\"Awesome Project\"\n                type=\"text\"\n                value={name}\n                required\n                invalid={isSubmitted && !name.length}\n                onChange={(e) => setName(e.target.value.substring(0, 63))}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"projectTypeId\">Project Type</Label>\n              <Input\n                id=\"projectTypeId\"\n                name=\"projectType\"\n                type=\"select\"\n                value={projectType}\n                onChange={(e) => setProjectType(e.target.value)}\n              >\n                <option value=\"ProjectContract\">Basic Project Contract</option>\n              </Input>\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"description\">Description</Label>\n              <Input\n                id=\"description\"\n                name=\"text\"\n                type=\"textarea\"\n                value={description}\n                required\n                invalid={isSubmitted && !description.length}\n                onChange={(e) => setDescription(e.target.value.substring(0, 127))}\n              />\n              <FormText>Characters left: {127 - description.length}</FormText>\n            </FormGroup>\n            <Button disabled={!isActive} color=\"primary\" onClick={deploy}>\n              Deploy {showModal && <Spinner size=\"sm\" />}\n            </Button>\n          </Form>\n        </Card>\n      </Row>\n\n      <Modal centered isOpen={showModal}>\n        <ModalHeader>\n          Deployment {progress < 7 ? 'in Progress' : 'Finished'}\n        </ModalHeader>\n        <ModalBody>Don&apos;t close this browser tab while running!</ModalBody>\n        <div className=\"d-flex align-items-center m-4 position-relative\">\n          <Progress\n            className=\"w-100 m-0\"\n            animated={!error && progress < 7}\n            color={error ? 'danger' : 'success'}\n            value={progress}\n            max={6}\n          />\n          <CircleIcon\n            icon={<Key />}\n            color={\n              error && progress === 2\n                ? 'danger'\n                : progress < 3\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 3 && !(error && progress === 2)}\n            style={{\n              position: 'absolute',\n              left: 0,\n              right: '33.33%',\n              margin: '0 auto',\n            }}\n          />\n          <CircleIcon\n            icon={<Upload />}\n            color={\n              error && progress === 4\n                ? 'danger'\n                : progress < 5\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 5 && !(error && progress === 4)}\n            style={{\n              position: 'absolute',\n              left: '33.33%',\n              right: 0,\n              margin: '0 auto',\n            }}\n          />\n          <CircleIcon\n            icon={<Check />}\n            color={\n              error && progress === 6\n                ? 'danger'\n                : progress < 7\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 7 && !(error && progress === 7)}\n            style={{ position: 'absolute', right: 0 }}\n          />\n        </div>\n        <div>\n          <ModalBody className=\"text-danger text-break\">\n            {error && (\n              <>\n                <span className=\"fw-bold\">Error: </span>\n                {error}\n              </>\n            )}\n            {address && (\n              <Alert color=\"primary d-flex align-items-center text-primary\">\n                <Info className=\"me-3\" />\n                <div>\n                  Deployed contract address:{' '}\n                  {progress < 7 ? (\n                    <span>{address}</span>\n                  ) : (\n                    <Link\n                      className=\"alert-link\"\n                      to={`../project/${chainId}/${address}`}\n                      style={{\n                        color: '#374066',\n                        borderBottom: '1px dotted rgb(0 0 0 / 50%)',\n                      }}\n                    >\n                      {address}\n                    </Link>\n                  )}\n                </div>\n              </Alert>\n            )}\n          </ModalBody>\n        </div>\n        <ModalFooter>\n          <Button\n            disabled={progress < 7}\n            color=\"primary\"\n            onClick={() => setShowModal(false)}\n          >\n            Finish\n          </Button>{' '}\n          <Button onClick={() => setShowModal(false)}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n    </main>\n  );\n};\n\nexport default CreateProject;\n","import { FC } from 'react';\nimport { Col, Row, Card, CardText } from 'reactstrap';\nimport { AlertCircle, Cpu, Database } from 'react-feather';\nimport CircleIcon from '../CircleIcon';\n\ninterface ProjectDisplayProps {\n  numPlans: number;\n  numNodes: number;\n  numActiveNodes: number;\n  isRunning: boolean;\n}\n\nconst ProjectSummary: FC<ProjectDisplayProps> = ({ numPlans, numNodes, numActiveNodes, isRunning }) => (\n  <Row md=\"3\" xs=\"2\" className=\"d-flex align-items-stretch g-2\">\n    <Col>\n      <Card body className=\"shadow h-100\">\n        <Row className=\"align-items-center g-0\">\n          <Col>\n            <CircleIcon icon={<Database />} color=\"default\" />\n          </Col>\n          <Col className=\"d-flex justify-content-center\">\n            <h2 className=\"text-default m-0\">\n              {numActiveNodes}\n              <span className=\"text-muted\"> / {numNodes}</span>\n            </h2>\n          </Col>\n        </Row>\n        <CardText className=\"text-muted mt-2\">\n          Active data providers\n        </CardText>\n      </Card>\n    </Col>\n    <Col>\n      <Card body className=\"shadow h-100\">\n        <Row className=\"align-items-center g-0\">\n          <Col>\n            <CircleIcon icon={<Cpu />} color=\"default\" />\n          </Col>\n          <Col className=\"d-flex justify-content-center\">\n            <h2 className=\"text-default m-0\">{numPlans}</h2>\n          </Col>\n        </Row>\n        <CardText className=\"text-muted mt-2\">\n          Training plans\n        </CardText>\n      </Card>\n    </Col>\n    <Col>\n      <Card body className=\"shadow h-100\">\n        <Row className=\"align-items-center g-0\">\n          <Col>\n            <CircleIcon icon={<AlertCircle />} color=\"default\" />\n          </Col>\n          <Col className=\"d-flex justify-content-center\">\n            <h2 className=\"text-default m-0\">\n              {isRunning ? 'Busy' : 'Idle'}\n            </h2>\n          </Col>\n        </Row>\n        <CardText className=\"text-muted mt-2\">\n          Status\n        </CardText>\n      </Card>\n    </Col>\n  </Row>\n);\n\nexport default ProjectSummary;\n","export const predefinedModels = new Map([\n  ['Linear Regression', 'bafkreicliqylyoblfo7clpzkmycwfqn567qbawnffduekcvawl3czoti2u'],\n  ['SGD Linear Regressor', 'bafkreidwhstncqot2j7bbp25z2kzrexcmysovvrkv3wbytlk4l3iidlodm'],\n  ['Logistic Regression', 'bafkreicv5fodgpk423tbcmbxdqsarwysqug32g5b27f4gzruavt5vtku2i'],\n  ['SGD Classifier', 'bafkreiem6k7aylre7ux23xs2wa2wjvkotnbwfavr2nmudowb476a55jb3e'],\n]);\n// Create reverse mapping\nconst cidToName = new Map(Array.from(predefinedModels, (e) => [e[1], e[0]]));\n\nexport const getNameOfCID = (cid: string): string => {\n  const name = cidToName.get(cid);\n  if (name) {\n    return name;\n  }\n  return 'Custome';\n};\n","import { Contract } from 'ethers';\nimport { FC, useEffect, useState } from 'react';\nimport { CheckCircle, Download, RefreshCw } from 'react-feather';\nimport { Button, Card, CardBody, CardTitle, Col, Progress, Row, Table } from 'reactstrap';\n\nimport { TPlan } from '../../utils/contractTypes';\nimport { getNameOfCID } from '../../utils/models';\nimport { metaMask } from '../../connectors/metaMask';\nimport { downloadModel } from '../../utils/ipfs';\nimport Alert from '../Alert';\n\nconst formatAddress = (a: string) => `${a.substring(0, 6)}...${a.substring(a.length - 4)}`;\n\ninterface AllPlansProps {\n  download: (a: string) => void;\n  account: string | undefined;\n  contract: Contract;\n  numPlans: number;\n}\n\nconst AllPlans: FC<AllPlansProps> = ({ download, account, contract, numPlans }) => {\n  const [plans, setPlans] = useState<TPlan[]>([]);\n  const { provider } = metaMask;\n\n  // TODO: Pagination of plans or something like that\n  //       Right now it loads only 10 latest plans\n  // TODO: Plan details\n  const start = numPlans - 1;\n\n  useEffect(() => {\n    setPlans([]);\n\n    const fetchPlans = async () => {\n      // Number of plans to display\n      const num = Math.min(10, start + 1);\n      setPlans(await Promise.all(\n        Array(num).fill(1).map((_, i) => contract.plans(start - i)),\n      ));\n    };\n\n    if (contract && numPlans) {\n      fetchPlans();\n    }\n  }, [contract, start, numPlans]);\n\n  return (\n    <Row className=\"gt-2 mt-3\">\n      <Col>\n        <Card className=\"shadow\">\n          <CardBody className=\"pb-0\">\n            <CardTitle tag=\"h3\">\n              All Plans\n            </CardTitle>\n          </CardBody>\n          <Table\n            hover\n            responsive\n          >\n            <thead>\n              <tr>\n                <th className=\"ps-5\">\n                  #\n                </th>\n                <th>\n                  Model\n                </th>\n                <th className=\"text-center\">\n                  Rounds\n                </th>\n                <th className=\"text-center pe-5\">\n                  Status\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {plans.map((plan, idx) => (\n                <tr key={plan.finalModelCID}>\n                  <th className=\"ps-5 align-middle\" scope=\"row\">\n                    {start - idx}\n                  </th>\n                  <td className=\"align-middle\">\n                    {getNameOfCID(plan.baseModelCID)}\n                  </td>\n                  <td className=\"text-center align-middle\">\n                    {plan.numRounds}\n                  </td>\n                  <td className=\"text-center align-middle pe-5\">\n                    {/* eslint-disable-next-line no-nested-ternary */}\n                    {(provider && plan.finalModelCID && account === plan.creator)\n                      ? (\n                        <Button\n                          className=\"btn-icon-only rounded-circle\"\n                          color=\"primary\"\n                          size=\"sm\"\n                          style={{ width: '1.8rem', height: '1.8rem' }}\n                          onClick={async () => download(plan.finalModelCID)}\n                        >\n                          <Download size={19} />\n                        </Button>\n                      ) : (plan.finalModelCID ? <CheckCircle size={20} /> : <RefreshCw size={20} />)}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </Card>\n      </Col>\n    </Row>\n  );\n};\n\ninterface ProjectPlansProps {\n  account: string | undefined;\n  contract: Contract;\n  isRunning: boolean;\n  currentRound: number;\n  numPlans: number;\n  plan: TPlan | undefined\n}\n\nconst ProjectPlans: FC<ProjectPlansProps> = ({ account, contract, isRunning, currentRound, numPlans, plan }) => {\n  const [alertMessage, setAlertMessage] = useState('');\n  const [alertIsError, setAlertIsError] = useState(false);\n  const { provider } = metaMask;\n\n  const download = async (cid: string) => {\n    if (provider !== undefined && account) {\n      try {\n        await downloadModel(provider, account, cid);\n        setAlertIsError(false);\n        setAlertMessage(\"You downloaded model file 'model.joblib' read documentation for more details.\");\n      } catch (err) {\n        setAlertIsError(true);\n        setAlertMessage(String(err));\n      }\n    } else {\n      setAlertIsError(true);\n      setAlertMessage('Provider is undefined. Make sure you are connected to MetaMask.');\n    }\n  };\n\n  if (plan === undefined) {\n    return (\n      <Row className=\"gt-2 mt-3\">\n        <Col>\n          <Card body className=\"shadow\">\n            <CardTitle tag=\"h3\">\n              Plan X\n            </CardTitle>\n            <h5 className=\"text-muted\">\n              There are no training plans in this project yet.\n            </h5>\n          </Card>\n        </Col>\n      </Row>\n    );\n  }\n\n  return (\n    <>\n      <Row className=\"gt-2 mt-3\">\n        <Col>\n          <Card body className=\"shadow\">\n            <div className=\"mb-3 d-flex justify-content-between align-items-center\">\n              <CardTitle className=\"mb-0\">\n                <h3 className=\"mb-0\">\n                  Plan {numPlans - 1}\n                </h3>\n                <p className=\"mb-0 text-muted\">\n                  <small>Creator: {formatAddress(plan.creator)} {account === plan.creator && '(You)'}</small> <br />\n                </p>\n              </CardTitle>\n              <div>\n                <h3 className=\"text-primary\">{isRunning ? 'Running' : 'Finished'}</h3>\n                { (provider && account && account === plan.creator && plan.finalModelCID)\n                && (\n                <Button\n                  className=\"w-100\"\n                  color=\"primary\"\n                  size=\"sm\"\n                  onClick={async () => download(plan.finalModelCID)}\n                >\n                  Download\n                </Button>\n                )}\n              </div>\n            </div>\n\n            <div className=\"d-flex justify-content-between align-items-center\">\n              <div className=\"text-center flex-fill border-end\">\n                <h5 className=\"mb-0\">{getNameOfCID(plan.baseModelCID)}</h5>\n                <p className=\"mb-0 text-muted\">Model</p>\n              </div>\n              <div className=\"text-center flex-fill border-end\">\n                <h5 className=\"mb-0\">{plan.numNodes.toString()}</h5>\n                <p className=\"mb-0 text-muted\">Nodes</p>\n              </div>\n              <div className=\"text-center flex-fill\">\n                <h5 className=\"mb-0\">{plan.nodeReward.toString()}</h5>\n                <p className=\"mb-0 text-muted\">Reward</p>\n              </div>\n            </div>\n\n            <div className=\"mt-3 d-flex justify-content-between align-items-center\">\n              <h5 className=\"text-muted\">Round</h5>\n              <h5>{currentRound} <span>/ {plan.numRounds}</span></h5>\n            </div>\n            <Progress\n              color=\"default\"\n              animated={isRunning}\n              value={isRunning ? currentRound : plan.numRounds}\n              max={plan.numRounds}\n            />\n          </Card>\n        </Col>\n      </Row>\n      {alertMessage && <Alert isOpen error={alertIsError}>{alertMessage}</Alert>}\n      <AllPlans download={download} account={account} contract={contract} numPlans={numPlans} />\n    </>\n  );\n};\n\nexport default ProjectPlans;\n","/* eslint-disable no-underscore-dangle */\n/* eslint-disable no-nested-ternary */\nimport { FC, ReactNode, useEffect, useState, useCallback } from 'react';\nimport { constants, Contract } from 'ethers';\nimport { Button, Card, CardTitle, FormGroup, FormText, InputGroup, InputGroupText, Modal, ModalBody, ModalFooter, ModalHeader, Progress, Row } from 'reactstrap';\nimport { Check, Clock, Copy, Key, Upload, XCircle } from 'react-feather';\nimport { Link, useParams } from 'react-router-dom';\nimport { metaMask, hooks } from '../../connectors/metaMask';\nimport { getPublicKey } from '../../utils/cryptography';\nimport CircleIcon from '../CircleIcon';\n\ninterface RoleBadgeProps {\n    text: string | ReactNode;\n}\n\nconst RoleBadge: FC<RoleBadgeProps> = ({ text }) => (\n  <Button\n    size=\"sm\"\n    color=\"secondary\"\n    className=\"mt-1 rounded-pill d-flex align-items-center cursor-default\"\n    style={{ width: 'fit-content' }}\n  >\n    {text}\n  </Button>\n);\n\ninterface BuilderDescriptionProps {\n  contract: Contract;\n  isBuilder: boolean;\n}\n\nconst BuilderDescription: FC<BuilderDescriptionProps> = ({ contract, isBuilder }) => {\n  const [showModal, setShowModal] = useState(false);\n  const [requestedAccess, setRequestedAccess] = useState(false);\n\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState('');\n\n  const { useChainId, useProvider, useIsActive, useAccount } = hooks;\n  const chainId = useChainId();\n  const provider = useProvider();\n  const isActive = useIsActive();\n  const account = useAccount();\n\n  const fetchRequestState = useCallback(async () => {\n    const request = await contract.builderRequests(account);\n    setRequestedAccess(request.builderAddress !== constants.AddressZero);\n  }, [contract, account]);\n\n  useEffect(() => {\n    if (account) {\n      fetchRequestState();\n    }\n  }, [fetchRequestState, account]);\n\n  const requestAccess = async () => {\n    setProgress(0);\n    setError('');\n\n    if (!isBuilder && provider && metaMask.provider && chainId && account) {\n      setShowModal(true);\n      setProgress(2);\n\n      let publicKey;\n      try {\n        publicKey = await getPublicKey(metaMask.provider, account);\n      } catch (e: any) {\n        setError(e && (e.message || 'Unknown error'));\n        return;\n      }\n\n      setProgress(4);\n\n      try {\n        const tx = await contract.requestJoinBuilder(publicKey);\n        await tx.wait();\n      } catch (e: any) {\n        setError(e && (e.message || 'Unknown error'));\n        return;\n      }\n      setProgress(7);\n\n      fetchRequestState();\n    }\n  };\n\n  return (\n    <>\n      <p className=\"line-header fw-bold mb-1 mt-4\"><span>Builder</span></p>\n      {isBuilder ? (\n        <>\n          <p>You can create models (training plans) and train them on this project.</p>\n          <Button color=\"secondary\" to=\"create-plan\" tag={Link}>\n            Create Model\n          </Button>\n        </>\n      ) : (\n        <>\n          <p>Send request to become a builder and be able to train models on this project.</p>\n          <Button color=\"secondary\" onClick={requestAccess} disabled={!isActive || requestedAccess}>\n            {requestedAccess ? 'Access already requested' : 'Request Access'}\n          </Button>\n        </>\n      )}\n\n      <Modal centered isOpen={showModal}>\n        <ModalHeader>\n          Deployment {progress < 7 ? 'in Progress' : 'Finished'}\n        </ModalHeader>\n        <ModalBody>Don&apos;t close this browser tab while running!</ModalBody>\n        <div className=\"d-flex align-items-center m-4 position-relative\">\n          <Progress\n            className=\"w-100 m-0\"\n            animated={!error && progress < 5}\n            color={error ? 'danger' : 'success'}\n            value={progress}\n            max={6}\n          />\n          <CircleIcon\n            icon={<Key />}\n            color={\n              error && progress === 2\n                ? 'danger'\n                : progress < 3\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 3 && !(error && progress === 2)}\n            style={{\n              position: 'absolute',\n              left: 0,\n              right: '33.33%',\n              margin: '0 auto',\n            }}\n          />\n          <CircleIcon\n            icon={<Upload />}\n            color={\n              error && progress === 4\n                ? 'danger'\n                : progress < 5\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 5 && !(error && progress === 4)}\n            style={{\n              position: 'absolute',\n              left: '33.33%',\n              right: 0,\n              margin: '0 auto',\n            }}\n          />\n          <CircleIcon\n            icon={<Check />}\n            color={\n              error && progress === 6\n                ? 'danger'\n                : progress < 7\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 7 && !(error && progress === 7)}\n            style={{ position: 'absolute', right: 0 }}\n          />\n        </div>\n        <div>\n          <ModalBody className=\"text-danger\">\n            {error && (\n              <>\n                <span className=\"fw-bold\">Error: </span>\n                {error}\n              </>\n            )}\n          </ModalBody>\n        </div>\n        <ModalFooter>\n          <Button\n            disabled={progress < 7}\n            color=\"primary\"\n            onClick={() => setShowModal(false)}\n          >\n            Finish\n          </Button>{' '}\n          <Button onClick={() => setShowModal(false)}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n};\n\ninterface DataProviderProps {\n  contract: Contract;\n  nodeState: number;\n  nodeActive?: boolean;\n}\n\nconst DataProviderDescription: FC<DataProviderProps> = ({ contract, nodeState, nodeActive = false }) => {\n  // TODO: Check if data provider is active\n  const { chain, address } = useParams();\n  const command = `felt-node-worker --chain ${chain} --contract ${address} --account main --data example_data.csv`;\n\n  const [showModal, setShowModal] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState('');\n\n  const { useChainId, useProvider, useAccount } = hooks;\n  const chainId = useChainId();\n  const provider = useProvider();\n  const account = useAccount();\n\n  const [noRequest, setNoRequest] = useState(nodeState === 0);\n  const waiting = nodeState === 1;\n  const declined = nodeState === 2;\n  const accepted = nodeState >= 3;\n\n  const requestAccess = async () => {\n    setProgress(0);\n    setError('');\n\n    if (noRequest && provider && metaMask.provider && chainId && account) {\n      setShowModal(true);\n      setProgress(2);\n\n      let publicKey;\n      try {\n        publicKey = await getPublicKey(metaMask.provider, account);\n      } catch (e: any) {\n        setError(e && (e.message || 'Unknown error'));\n        return;\n      }\n\n      setProgress(4);\n\n      try {\n        const tx = await contract.requestJoinNode(publicKey);\n        await tx.wait();\n      } catch (e: any) {\n        setError(e && (e.message || 'Unknown error'));\n        return;\n      }\n      setProgress(7);\n      setNoRequest(false);\n    }\n  };\n\n  return (\n    <>\n      <p className=\"line-header fw-bold mb-1 mt-4\">\n        <span>\n          Data Provider\n          {waiting && <Clock size={20} className=\"ms-2\" />}\n          {declined && <XCircle size={20} className=\"ms-2\" />}\n        </span>\n      </p>\n      {noRequest && <p>Send request to become a data provider.</p>}\n      {waiting && <p>You need to wait for your request to be processed.</p>}\n      {declined && <p>Your request was declined. You can&apos;t participate in this project.</p>}\n      {accepted && <p>You can provide training data. Pause your participation if inactive.</p>}\n\n      {(accepted || waiting) && (\n      <FormGroup>\n        <InputGroup size=\"sm\">\n          <InputGroupText className=\"form-control user-select-all overflow-hidden\">\n            {command}\n          </InputGroupText>\n          <Button\n            color=\"default\"\n            onClick={() => navigator.clipboard.writeText(command)}\n          >\n            <Copy size={20} />\n          </Button>\n        </InputGroup>\n        <FormText color=\"white\">\n          Command to activate + run data provider client.\n        </FormText>\n      </FormGroup>\n      )}\n\n      {/* Activation is done automatically using client script */}\n      {accepted && nodeActive && (\n        <Button color=\"secondary\">\n          Deactivate\n        </Button>\n      )}\n\n      {!accepted && (\n        <Button color=\"secondary\" onClick={requestAccess} disabled={!noRequest}>\n          Request Access\n        </Button>\n      )}\n\n      <Modal centered isOpen={showModal}>\n        <ModalHeader>\n          Deployment {progress < 7 ? 'in Progress' : 'Finished'}\n        </ModalHeader>\n        <ModalBody>Don&apos;t close this browser tab while running!</ModalBody>\n        <div className=\"d-flex align-items-center m-4 position-relative\">\n          <Progress\n            className=\"w-100 m-0\"\n            animated={!error && progress < 5}\n            color={error ? 'danger' : 'success'}\n            value={progress}\n            max={6}\n          />\n          <CircleIcon\n            icon={<Key />}\n            color={\n              error && progress === 2\n                ? 'danger'\n                : progress < 3\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 3 && !(error && progress === 2)}\n            style={{\n              position: 'absolute',\n              left: 0,\n              right: '33.33%',\n              margin: '0 auto',\n            }}\n          />\n          <CircleIcon\n            icon={<Upload />}\n            color={\n              error && progress === 4\n                ? 'danger'\n                : progress < 5\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 5 && !(error && progress === 4)}\n            style={{\n              position: 'absolute',\n              left: '33.33%',\n              right: 0,\n              margin: '0 auto',\n            }}\n          />\n          <CircleIcon\n            icon={<Check />}\n            color={\n              error && progress === 6\n                ? 'danger'\n                : progress < 7\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 7 && !(error && progress === 7)}\n            style={{ position: 'absolute', right: 0 }}\n          />\n        </div>\n        <div>\n          <ModalBody className=\"text-danger\">\n            {error && (\n              <>\n                <span className=\"fw-bold\">Error: </span>\n                {error}\n              </>\n            )}\n          </ModalBody>\n        </div>\n        <ModalFooter>\n          <Button\n            disabled={progress < 7}\n            color=\"primary\"\n            onClick={() => setShowModal(false)}\n          >\n            Finish\n          </Button>{' '}\n          <Button onClick={() => setShowModal(false)}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n};\n\ninterface ProjectRolesProps {\n  contract: Contract;\n  builder: any;\n  nodeState: number | undefined;\n  nodeActive: boolean | undefined;\n}\n\nconst ProjectRoles: FC<ProjectRolesProps> = ({ contract, builder, nodeState, nodeActive }) => {\n  if (builder === undefined || nodeState === undefined) {\n    return (\n      <Card inverse body className=\"shadow\" style={{ color: '#fff', backgroundColor: '#7386d5' }}>\n        <CardTitle tag=\"h3\" style={{ color: '#fff' }}>\n          Role\n        </CardTitle>\n        <Row className=\"ps-1\">\n          <RoleBadge text=\"Viewer\" />\n        </Row>\n        <p className=\"mb-1 mt-4\">Connect to MetaMask in order to interact with the project.</p>\n      </Card>\n    );\n  }\n\n  return (\n    <Card inverse body className=\"shadow\" style={{ color: '#fff', backgroundColor: '#7386d5' }}>\n      <CardTitle\n        tag=\"h3\"\n        style={{ color: '#fff' }}\n      >\n        Role\n      </CardTitle>\n      <Row className=\"ps-1\">\n        {builder._address === constants.AddressZero && nodeState === 0 && <RoleBadge text=\"Viewer\" />}\n        {builder._address !== constants.AddressZero && <RoleBadge text=\"Builder\" />}\n        {nodeState === 1 && <RoleBadge text={<><Clock size={18} /><span> Data Provider</span></>} />}\n        {nodeState === 2 && <RoleBadge text={<><XCircle size={18} /><span> Data Provider</span></>} />}\n        {nodeState >= 3 && <RoleBadge text=\"Data Provider\" />}\n      </Row>\n      <BuilderDescription contract={contract} isBuilder={builder._address !== constants.AddressZero} />\n      <DataProviderDescription contract={contract} nodeState={nodeState} nodeActive={nodeActive} />\n    </Card>\n  );\n};\n\nexport default ProjectRoles;\n","/* eslint-disable no-nested-ternary */\nimport { Contract } from 'ethers';\nimport { FC, useCallback, useEffect, useState } from 'react';\nimport { Check, X, Send } from 'react-feather';\nimport { Button, Card, CardBody, CardTitle, Col, Modal, ModalBody, ModalFooter, ModalHeader, Progress, Row, Table } from 'reactstrap';\nimport CircleIcon from '../CircleIcon';\n\ninterface BuilderRequestsProps {\n  contract: Contract;\n}\n\ninterface BuilderRequest {\n  builderAddress: string,\n}\n\nconst BuilderRequests: FC<BuilderRequestsProps> = ({ contract }) => {\n  const [requests, setRequests] = useState<BuilderRequest[]>([]);\n\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [showModal, setShowModal] = useState(false);\n\n  const fetchRequests = useCallback(async () => {\n    if (!contract) return;\n\n    const numberOfRequests = (await contract.getBuilderRequestsLength())?.toNumber();\n\n    const fetchRequest = async (i: number): Promise<BuilderRequest> => {\n      const requestAddress = await contract.builderRequestsArray(i);\n      return contract.builderRequests(requestAddress);\n    };\n\n    setRequests(await Promise.all(Array(numberOfRequests).fill(0).map((_, i) => fetchRequest(i))));\n  }, [contract]);\n\n  useEffect(() => {\n    fetchRequests();\n  }, [fetchRequests]);\n\n  const decideRequest = async (address: string, approve: boolean) => {\n    if (!contract) return;\n\n    setShowModal(true);\n    setProgress(2);\n    setError('');\n\n    try {\n      let tx;\n      if (approve) tx = await contract.acceptBuilderJoinRequest(address);\n      else tx = await contract.declineBuilderJoinRequest(address);\n\n      setProgress(3);\n\n      await tx.wait();\n      setProgress(5);\n    } catch (e: any) {\n      setError(e && e.message ? e.message : 'Unknown error');\n      setProgress((progress > 2) ? 4 : 2);\n    }\n\n    await fetchRequests();\n  };\n\n  return (\n    <>\n      <Row className=\"gt-2 mt-3\">\n        <Col>\n          <Card className=\"shadow\">\n            <CardBody>\n              <CardTitle tag=\"h3\">\n                Builder Access Requests\n              </CardTitle>\n              {!requests.length && (\n                <h5 className=\"text-muted\">\n                  There are no builder requests.\n                </h5>\n              )}\n            </CardBody>\n            {!!requests.length && (\n            <Table hover responsive>\n              <thead>\n                <tr>\n                  <th className=\"ps-5\">#</th>\n                  <th className=\"text-center\">Address</th>\n                  <th className=\"text-center\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {requests.map((request, idx) => (\n                  <tr key={request.builderAddress}>\n                    <th className=\"ps-5 align-middle\">{idx}</th>\n                    <td className=\"text-center align-middle\">{request.builderAddress}</td>\n                    <td className=\"text-center align-items-center\">\n                      <CircleIcon icon={<Check />} onClick={() => decideRequest(request.builderAddress, true)} />\n                      <CircleIcon color=\"danger\" icon={<X />} onClick={() => decideRequest(request.builderAddress, false)} />\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </Table>\n            )}\n          </Card>\n        </Col>\n      </Row>\n\n      <Modal centered isOpen={showModal}>\n        <ModalHeader>\n          Transaction {progress < 5 ? 'in Progress' : 'Finished'}\n        </ModalHeader>\n        <ModalBody>\n          Don&apos;t close this browser tab while running!\n        </ModalBody>\n        <div className=\"d-flex align-items-center m-4 position-relative\">\n          <Progress\n            className=\"w-100 m-0\"\n            animated={!error && progress < 5}\n            color={error ? 'danger' : 'success'}\n            value={progress}\n            max={4}\n          />\n          <CircleIcon\n            icon={<Send />}\n            color={\n              error && progress === 2\n                ? 'danger'\n                : progress < 3\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 3 && !(error && progress === 2)}\n            style={{\n              position: 'absolute',\n              left: 0,\n              right: 0,\n              margin: '0 auto',\n            }}\n          />\n          <CircleIcon\n            icon={<Check />}\n            color={\n              error && progress === 4\n                ? 'danger'\n                : progress < 5\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 5 && !(error && progress === 5)}\n            style={{ position: 'absolute', right: 0 }}\n          />\n        </div>\n        <div>\n          <ModalBody className=\"text-danger\">\n            {error && (\n              <>\n                <span className=\"fw-bold\">Error: </span>\n                {error}\n              </>\n            )}\n          </ModalBody>\n        </div>\n        <ModalFooter>\n          <Button\n            disabled={progress < 5}\n            color=\"primary\"\n            onClick={() => setShowModal(false)}\n          >\n            Finish\n          </Button>{' '}\n          <Button onClick={() => setShowModal(false)}>Close</Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n};\n\nexport default BuilderRequests;\n","/* eslint-disable no-underscore-dangle */\nimport { FC, useEffect, useState } from 'react';\nimport { constants, Contract } from 'ethers';\nimport { Col, Row, Spinner } from 'reactstrap';\nimport ProjectSummary from './ProjectSummary';\nimport ProjectPlans from './ProjectPlans';\nimport Breadcrumbs from '../dapp/Breadcrumbs';\nimport Alert from '../Alert';\nimport { hooks } from '../../connectors/priorityConnector';\nimport ProjectRoles from './ProjectRoles';\nimport { TPlan, Node } from '../../utils/contractTypes';\nimport BuilderRequests from './BuilderRequests';\nimport DataProviderRequests from './DataProviderRequests';\n\nconst { usePriorityAccount } = hooks;\n\ninterface ProjectDashboardProps {\n    contract: Contract;\n}\n\nconst ProjectDashboard: FC<ProjectDashboardProps> = ({ contract }) => {\n  const account = usePriorityAccount();\n\n  const breadcrumbLinks = [\n    {\n      link: '',\n      name: 'Project',\n    },\n  ];\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string>();\n\n  const [numPlans, setNumPlans] = useState(-1);\n  const [numNodes, setNumNodes] = useState(-1);\n  const [numActiveNodes, setNumActiveNodes] = useState(-1);\n  const [currentRound, setCurrentRound] = useState(-1);\n  const [isRunning, setIsRunning] = useState(false);\n  const [plan, setPlan] = useState<TPlan>();\n  const [builder, setBuilder] = useState<any>();\n  const [nodeState, setNodeState] = useState<number>();\n  const [node, setNode] = useState<Node>();\n\n  useEffect(() => {\n    setBuilder(undefined);\n    setNodeState(undefined);\n    setNode(undefined);\n\n    const fetchRoles = async () => {\n      try {\n        const [b, n] = await Promise.all([\n          contract.builders(account),\n          contract.nodeState(account),\n        ]);\n        setBuilder(b);\n        setNodeState(n.toNumber());\n\n        if (n.toNumber() >= 3) {\n          setNode(await contract.nodesArray(n.toNumber() - 3));\n        }\n      } catch (err) {\n        setError(String(err));\n      }\n    };\n    if (account) {\n      fetchRoles();\n    }\n  }, [account, contract]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      setError(undefined);\n\n      try {\n        const [plans, nodes, activeNodes, planRunning, round] = await Promise.all([\n          contract.numPlans(),\n          contract.getNodesLength(),\n          contract.activeNodes(),\n          contract.isPlanRunning(),\n          contract.currentRound(),\n        ]);\n        if (plans > 0) {\n          const mostRecentPlan = await contract.plans(plans - 1);\n          setPlan(mostRecentPlan);\n        }\n        setNumPlans(plans);\n        setNumNodes(nodes.toNumber());\n        setNumActiveNodes(activeNodes);\n        setIsRunning(planRunning);\n        setCurrentRound(round);\n\n        setLoading(false);\n        setError(undefined);\n      } catch (err) {\n        setLoading(false);\n        setError(String(err));\n      }\n    };\n\n    fetchData();\n  }, [contract]);\n\n  return (\n    <>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <Breadcrumbs title=\"Project\" links={breadcrumbLinks} />\n      </div>\n\n      { error === undefined && !loading && (\n      <Row className=\"g-3\">\n        <Col md=\"4\">\n          <ProjectRoles\n            contract={contract}\n            builder={builder}\n            nodeState={nodeState}\n            nodeActive={node?.activated}\n          />\n        </Col>\n        <Col md=\"8\">\n          <ProjectSummary\n            numPlans={numPlans}\n            numActiveNodes={numActiveNodes}\n            numNodes={numNodes}\n            isRunning={isRunning}\n          />\n          <ProjectPlans\n            account={account}\n            contract={contract}\n            isRunning={isRunning}\n            currentRound={currentRound}\n            numPlans={numPlans}\n            plan={plan}\n          />\n          {builder && builder._address !== constants.AddressZero && (\n            <BuilderRequests\n              contract={contract}\n            />\n          )}\n          {builder && builder._address !== constants.AddressZero && (\n            <DataProviderRequests\n              contract={contract}\n            />\n          )}\n        </Col>\n      </Row>\n      )}\n\n      {loading && <Spinner />}\n\n      {error && <Alert isOpen>{error}</Alert>}\n    </>\n  );\n};\n\nexport default ProjectDashboard;\n","/* eslint-disable no-nested-ternary */\nimport { FC, useEffect, useState } from 'react';\nimport { Contract, utils, BigNumber } from 'ethers';\nimport {\n  Button,\n  Row,\n  Form,\n  FormGroup,\n  Input,\n  Label,\n  Card,\n  Modal,\n  ModalFooter,\n  ModalHeader,\n  ModalBody,\n  Spinner,\n  Progress,\n  InputGroup,\n  InputGroupText,\n  FormText,\n  Col,\n  Table,\n} from 'reactstrap';\nimport { Check, Send } from 'react-feather';\nimport isIPFS from 'is-ipfs';\n\nimport Breadcrumbs from '../components/dapp/Breadcrumbs';\nimport CircleIcon from '../components/CircleIcon';\nimport { loadContract } from '../utils/contracts';\nimport { hooks } from '../connectors/metaMask';\nimport { predefinedModels } from '../utils/models';\n\nfunction isValidCID(cid: string): boolean {\n  // TODO: Test if exists?\n  // Check for validity\n  return isIPFS.cid(cid);\n}\n\ninterface ProjectDisplayProps {\n  contract: Contract;\n}\n\nconst CreatePlan: FC<ProjectDisplayProps> = ({ contract }) => {\n  const breadcrumbLinks = [\n    {\n      link: '..',\n      name: 'Project',\n    },\n    {\n      link: '',\n      name: 'Create Training Plan',\n    },\n  ];\n\n  const { useChainId, useProvider, useIsActive, useAccount } = hooks;\n\n  const chainId = useChainId();\n  const provider = useProvider();\n  const isActive = useIsActive();\n  const account = useAccount();\n\n  const [modelCID, setModelCID] = useState('');\n  const [modelName, setModelName] = useState('');\n  const [isCustome, setIsCustome] = useState(false);\n  const [numRounds, setNumRounds] = useState(1);\n  const [numActiveNodes, setNumActiveNodes] = useState(0);\n  const [reward, setReward] = useState(0);\n\n  const [newAllowance, setNewAllowance] = useState(0);\n\n  const [isPlanSubmitted, setPlanSubmitted] = useState(false);\n  const [isAllowSubmitted, setAllowSubmitted] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState('');\n\n  const [allowance, setAllowance] = useState<undefined | BigNumber>(undefined);\n  const [tokenContract, setTokenContract] = useState<undefined | Contract>(undefined);\n\n  useEffect(() => {\n    let didCancel = false;\n\n    async function getTokenContract() {\n      if (provider && chainId) {\n        const token = await loadContract(\n          chainId,\n          'FELToken',\n          provider.getSigner(),\n        );\n\n        if (token && account && contract) {\n          const [allow, activeNodes] = await Promise.all([\n            token.allowance(account, contract.address),\n            contract.activeNodes(),\n          ]);\n          if (!didCancel) {\n            setTokenContract(token);\n            setAllowance(allow);\n            setNumActiveNodes(activeNodes);\n          }\n        }\n      }\n    }\n\n    getTokenContract();\n    return () => {\n      didCancel = true;\n    };\n  }, [chainId, account, contract, provider]);\n\n  // Values displayed in the table\n  const totalReward = reward * numRounds * numActiveNodes;\n  const totalRewardBN = utils.parseUnits(totalReward.toString(), 'gwei');\n  const remAllowance = (allowance) ? utils.formatUnits(allowance.sub(totalRewardBN), 'gwei') : 'NaN';\n  const positive = (allowance) ? allowance.gte(totalRewardBN) : undefined;\n\n  const clearModal = () => {\n    setAllowSubmitted(false);\n    setPlanSubmitted(false);\n    setError('');\n    setProgress(0);\n  };\n\n  const deploy = async () => {\n    clearModal();\n    setPlanSubmitted(true);\n\n    const cid = (isCustome) ? modelCID : predefinedModels.get(modelName);\n    if (positive && cid && isValidCID(cid)) {\n      setShowModal(true);\n      try {\n        setProgress(2);\n        const tx = await contract.createPlan(cid, numRounds, reward);\n        setProgress(3);\n        await tx.wait();\n      } catch (e: any) {\n        setError(e && e.message ? e.message : 'Unknown error');\n        setProgress((progress > 2) ? 4 : 2);\n        return;\n      }\n      setProgress(5);\n    }\n  };\n\n  const updateAllowance = async () => {\n    clearModal();\n    setAllowSubmitted(true);\n\n    if (newAllowance > 0 && contract && tokenContract && chainId && provider) {\n      setShowModal(true);\n      try {\n        setProgress(2);\n        // TODO: This might lead to some issues later\n        // https://docs.openzeppelin.com/contracts/2.x/api/token/erc20#IERC20-approve-address-uint256-\n        const tx = await tokenContract.approve(\n          contract.address,\n          utils.parseUnits(newAllowance.toString(), 'gwei'),\n        );\n        setProgress(3);\n        await tx.wait();\n        // Update allowance displayed (user can change the allowance value inside MetaMask)\n        if (tokenContract) {\n          const a = await tokenContract.allowance(account, contract.address);\n          setAllowance(a);\n        }\n      } catch (e: any) {\n        setError(e && e.message ? e.message : 'Unknown error');\n        setProgress((progress > 2) ? 4 : 2);\n        return;\n      }\n      setProgress(5);\n    }\n  };\n\n  return (\n    <main>\n      <Breadcrumbs title=\"Create Training Plan\" links={breadcrumbLinks} />\n      <Row className=\"px-4 px-sm-5 pb-5 justify-content-center\">\n        <Card body className=\"shadow border-0\" style={{ maxWidth: '800px' }}>\n          <Form className=\"create-plan-form\">\n            <FormGroup>\n              <Label for=\"modelCID\">Select model</Label>\n              <InputGroup>\n                <InputGroupText\n                  className=\"cursor-pointer\"\n                  onClick={() => setIsCustome(false)}\n                >\n                  <Input\n                    type=\"radio\"\n                    checked={!isCustome}\n                    readOnly\n                  />\n                  <span className=\"ms-2\">Predefined model:</span>\n                </InputGroupText>\n                <Input\n                  id=\"modelCID\"\n                  name=\"modelCID\"\n                  type=\"select\"\n                  value={modelName}\n                  disabled={isCustome}\n                  invalid={isPlanSubmitted\n                    && !isCustome\n                    && !modelName.length\n                    && !predefinedModels.has(modelName)}\n                  onChange={(e) => setModelName(e.target.value)}\n                >\n                  <option value=\"\">Select predefined model...</option>\n                  {Array.from(predefinedModels.keys()).map((name) => (\n                    <option key={name} value={name}>{name}</option>\n                  ))}\n                </Input>\n              </InputGroup>\n            </FormGroup>\n            <FormGroup>\n              <InputGroup>\n                <InputGroupText\n                  className=\"cursor-pointer\"\n                  onClick={() => setIsCustome(true)}\n                >\n                  <Input\n                    type=\"radio\"\n                    checked={isCustome}\n                    readOnly\n                  />\n                  <span className=\"ms-2\">Custome model CID:</span>\n                </InputGroupText>\n                <Input\n                  className=\"ps-2\"\n                  id=\"modelCIDc\"\n                  name=\"modelCIDc\"\n                  type=\"text\"\n                  value={modelCID}\n                  disabled={!isCustome}\n                  invalid={isPlanSubmitted && isCustome && !isValidCID(modelCID)}\n                  onChange={(e) => setModelCID(e.target.value)}\n                />\n              </InputGroup>\n              <FormText>\n                For more instructions how to get model CID read documentation (TODO: add link, or CID generation tool).\n              </FormText>\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"rounds\">Number of rounds: <span className=\"fw-bold\">{numRounds}</span></Label>\n              <Input\n                id=\"rounds\"\n                name=\"rounds\"\n                type=\"range\"\n                min=\"1\"\n                max=\"100\"\n                value={numRounds}\n                onChange={(e) => setNumRounds(parseInt(e.target.value, 10))}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"reward\">Node reward per round (in gwei)</Label>\n              <Input\n                id=\"reward\"\n                name=\"reward\"\n                type=\"number\"\n                value={reward}\n                required\n                invalid={isPlanSubmitted && !positive}\n                onChange={(e) => setReward(Math.max(0, parseInt(e.target.value, 10)))}\n              />\n              <FormText>\n                Your allowance is: {!!allowance && utils.formatUnits(allowance, 'gwei')} gwei.\n                You can increase allowance using field below.\n              </FormText>\n            </FormGroup>\n            <FormGroup row className=\"justify-content-center\">\n              <Label\n                md={4}\n                className=\"fw-bold\"\n              >\n                Reward calculation\n              </Label>\n              <Col md={6}>\n                <Table borderless size=\"sm\" className=\"mt-2\">\n                  <tbody>\n                    <tr>\n                      <td>\n                        Active nodes\n                      </td>\n                      <td className=\"text-end\">\n                        {numActiveNodes}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        Rounds\n                      </td>\n                      <td className=\"text-end\">\n                        {numRounds}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        Reward per round\n                      </td>\n                      <td className=\"text-end\">\n                        {reward}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        Total reward\n                      </td>\n                      <td className=\"text-end\">\n                        {numRounds * reward * numActiveNodes}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        Remaining allowance\n                      </td>\n                      <td className={`text-end ${positive ? 'text-success' : 'text-danger'}`}>\n                        {remAllowance}\n                      </td>\n                    </tr>\n                  </tbody>\n                </Table>\n              </Col>\n              <Col md={10}>\n                <FormGroup>\n                  <Label for=\"reward\">Change Allowance (in gwei)</Label>\n                  <InputGroup>\n                    <Input\n                      id=\"reward\"\n                      name=\"reward\"\n                      type=\"number\"\n                      value={newAllowance}\n                      required\n                      invalid={isAllowSubmitted && !newAllowance}\n                      onChange={(e) => setNewAllowance(Math.max(0, parseInt(e.target.value, 10)))}\n                    />\n                    <Button\n                      disabled={!isActive}\n                      color=\"primary\"\n                      onClick={updateAllowance}\n                    >\n                      Update Allowance {isAllowSubmitted && showModal && <Spinner size=\"sm\" />}\n                    </Button>\n                  </InputGroup>\n                </FormGroup>\n              </Col>\n            </FormGroup>\n\n            <FormGroup>\n              <Button\n                disabled={!isActive}\n                color=\"primary\"\n                onClick={deploy}\n              >\n                Deploy {isPlanSubmitted && showModal && <Spinner size=\"sm\" />}\n              </Button>\n              {isPlanSubmitted && progress === 0\n              && (\n              <small className=\"text-danger\">\n                Make sure all fields are filled correctly.\n              </small>\n              )}\n            </FormGroup>\n          </Form>\n        </Card>\n      </Row>\n\n      <Modal centered isOpen={showModal}>\n        <ModalHeader>\n          Transaction {progress < 5 ? 'in Progress' : 'Finished'}\n        </ModalHeader>\n        <ModalBody>\n          {(progress === 2 && !error) && 'Waiting for transaction confirmation. Please confirm transaction using your wallet (e.g. MetaMask).'}\n          {(progress === 2 && !!error) && 'Something went wrong during transaction creation/approval.'}\n          {progress === 3 && 'Transaction send! Waiting for transaction to be processed by blockchain.'}\n          {progress === 4 && 'Something went wrong during transaction execution.'}\n          {progress === 5 && 'Transaction sucessfully completed.'}\n        </ModalBody>\n        <div className=\"d-flex align-items-center m-4 position-relative\">\n          <Progress\n            className=\"w-100 m-0\"\n            animated={!error && progress < 5}\n            color={error ? 'danger' : 'success'}\n            value={progress}\n            max={4}\n          />\n          <CircleIcon\n            icon={<Send />}\n            color={\n              error && progress === 2\n                ? 'danger'\n                : progress < 3\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 3 && !(error && progress === 2)}\n            style={{\n              position: 'absolute',\n              left: 0,\n              right: 0,\n              margin: '0 auto',\n            }}\n          />\n          <CircleIcon\n            icon={<Check />}\n            color={\n              error && progress === 4\n                ? 'danger'\n                : progress < 5\n                  ? 'secondary'\n                  : 'success'\n            }\n            light={progress < 5 && !(error && progress === 5)}\n            style={{ position: 'absolute', right: 0 }}\n          />\n        </div>\n        <div>\n          <ModalBody className=\"text-danger\">\n            {error && (\n              <>\n                <span className=\"fw-bold\">Error: </span>\n                {error}\n              </>\n            )}\n          </ModalBody>\n        </div>\n        <ModalFooter>\n          <Button\n            disabled={progress < 5}\n            color=\"primary\"\n            onClick={() => setShowModal(false)}\n          >\n            Finish\n          </Button>{' '}\n          <Button onClick={() => setShowModal(false)}>Close</Button>\n        </ModalFooter>\n      </Modal>\n    </main>\n  );\n};\n\nexport default CreatePlan;\n","import { FC, useState, useEffect } from 'react';\nimport { Contract } from 'ethers';\nimport { Route, Routes, useParams } from 'react-router-dom';\nimport { Spinner } from 'reactstrap';\nimport { Network } from '@web3-react/network';\n\nimport { getProjectContract } from '../utils/contracts';\nimport { hooks } from '../connectors/priorityConnector';\nimport ProjectDashboard from '../components/project/ProjectDashboard';\nimport CreatePlan from './CreatePlan';\nimport { getAddChainParameters } from '../utils/chains';\n\nconst { usePriorityConnector, usePriorityChainId, usePriorityProvider } = hooks;\n\nconst Project: FC = () => {\n  const { chain, address } = useParams();\n  const connector = usePriorityConnector();\n  const chainId = usePriorityChainId();\n  const provider = usePriorityProvider();\n\n  // Switch connector to same chain as the project in case of mismatch\n  if (chain && chainId && Number(chain) !== chainId) {\n    if (connector instanceof Network) {\n      connector.activate(Number(chain));\n    } else {\n      connector.activate(getAddChainParameters(Number(chain)));\n    }\n  }\n\n  const [contract, setContract] = useState<Contract>();\n\n  useEffect(() => {\n    let didCancel = false;\n\n    async function getContract() {\n      if (provider && address) {\n        const c = await getProjectContract(\n          address,\n          (connector instanceof Network) ? provider : provider.getSigner(),\n        );\n\n        if (c && !didCancel) {\n          setContract(c);\n        }\n      }\n    }\n\n    getContract();\n    return () => {\n      didCancel = true;\n    };\n  }, [chainId, address, provider, connector]);\n\n  if (contract === undefined) {\n    return <Spinner className=\"m-3\" />;\n  }\n\n  return (\n    <Routes>\n      <Route index element={<ProjectDashboard contract={contract} />} />\n      <Route path=\"create-plan\" element={<CreatePlan contract={contract} />} />\n    </Routes>\n  );\n};\n\nexport default Project;\n","import { FC } from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport { Container } from 'reactstrap';\n\nimport DappNavbar from '../components/navbar/DappNavbar';\nimport HomeFooter from '../components/footer/HomeFooter';\nimport Projects from './Projects';\nimport CreateProject from './CreateProject';\nimport Project from './Project';\n\nconst Dapp: FC = () => (\n  <div style={{ height: '100vh', display: 'flex', flexDirection: 'column' }}>\n    <DappNavbar />\n    <Container fluid=\"xl\">\n      <Routes>\n        <Route index element={<Projects />} />\n        <Route path=\"create-project\" element={<CreateProject />} />\n        <Route path=\"project/:chain/:address/*\" element={<Project />} />\n      </Routes>\n    </Container>\n    <HomeFooter />\n  </div>\n);\n\nexport default Dapp;\n","import { FC } from 'react';\nimport { Helmet } from 'react-helmet';\n// TODO: User BrowserRouter for server base app\nimport { HashRouter as Router, Route, Routes } from 'react-router-dom';\n\nimport './assets/scss/custome.scss';\n\nimport DApp from './views/Dapp';\n\nconst App: FC = () => (\n  <>\n    <Helmet>\n      <title>FELT - Federated Learning Token</title>\n      <meta\n        name=\"description\"\n        content=\"Tool for running federated learning on blockchain.\"\n      />\n      <meta\n        name=\"keywords\"\n        content=\"Federated Learning, Blockchain, Token, Solidity, Machine Learning\"\n      />\n      <meta name=\"author\" content=\"Břetislav Hájek\" />\n    </Helmet>\n    <Router>\n      <Routes>\n        <Route path=\"/*\" element={<DApp />} />\n      </Routes>\n    </Router>\n  </>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { Provider } from '@web3-react/types';\nimport { encrypt } from '@metamask/eth-sig-util';\nimport { Contract, utils } from 'ethers';\nimport { sha256 } from 'hash.js';\n\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst ascii85 = require('ascii85');\n\nexport async function getPublicKey(provider: Provider, account: string): Promise<Buffer> {\n  const keyB64 = await provider.request({\n    method: 'eth_getEncryptionPublicKey',\n    params: [account],\n  }) as string;\n  return Buffer.from(keyB64, 'base64');\n}\n\nexport function encryptSecret(publicKey: Buffer, data: Buffer): number[] {\n  const enc = encrypt({\n    publicKey: publicKey.toString('base64'),\n    data: ascii85.encode(data).toString(),\n    version: 'x25519-xsalsa20-poly1305',\n  });\n  const buf = Buffer.concat([\n    Buffer.from(enc.ephemPublicKey, 'base64'),\n    Buffer.from(enc.nonce, 'base64'),\n    Buffer.from(enc.ciphertext, 'base64'),\n  ]);\n  // Convert to number[] required by contract constructor\n  return buf.toJSON().data;\n}\n\nexport async function decryptData(provider: Provider, account: string, data: Buffer): Promise<Buffer> {\n  const structuredData = {\n    version: 'x25519-xsalsa20-poly1305',\n    ephemPublicKey: data.slice(0, 32).toString('base64'),\n    nonce: data.slice(32, 56).toString('base64'),\n    ciphertext: data.slice(56).toString('base64'),\n  };\n  // Convert data to hex string\n  const ct = `0x${Buffer.from(JSON.stringify(structuredData), 'utf8').toString('hex')}`;\n  const decrypt = await provider.request({\n    method: 'eth_decrypt',\n    params: [ct, account],\n  });\n  return ascii85.decode(decrypt);\n}\n\nexport function generateRandomSecret(): Buffer {\n  return Buffer.from(utils.randomBytes(32));\n}\n\nexport async function getNodeSecret(provider: Provider, contract: Contract, account: string): Promise<Buffer> {\n  const secret = await contract.getNodeSecret(account);\n  const key = Buffer.from(secret.map((x: string) => parseInt(x, 16)));\n  return decryptData(provider, account, key);\n}\n\nexport async function getNodeCurrentSecret(provider: Provider, contract: Contract, account: string): Promise<Buffer> {\n  let secret = await getNodeSecret(provider, contract, account);\n\n  const index = await contract.nodeState(account);\n  const node = await contract.nodesArray(index.toNumber() - 3);\n  const keyTurn = await contract.keyTurn();\n  for (let i = node.entryKeyTurn; i < keyTurn; i++) {\n    secret = Buffer.from(sha256().update(secret).digest('hex'), 'hex');\n  }\n  return secret;\n}\n"],"sourceRoot":""}